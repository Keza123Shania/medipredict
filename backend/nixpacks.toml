# nixpacks.toml
providers = ["csharp", "python"]

[phases.setup]
nixPkgs = ["python311", "python311Packages.pip"]

[phases.install]
# Installs C# dependencies AND Python dependencies
# IMPORTANT: This assumes requirements.txt is in the same folder as this file
cmds = ["dotnet restore", "pip install -r requirements.txt"]

[start]
# We use the 'find' command to locate the file automatically, wherever it is.
# This prevents "File not found" errors if your folder structure is slightly different.
cmd = "python3 $(find . -name prediction_service.py) & dotnet run --project MediPredict"
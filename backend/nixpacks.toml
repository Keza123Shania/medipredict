# nixpacks.toml
providers = ["csharp", "python"]

[phases.setup]
nixPkgs = ["python311", "python311Packages.pip"]

[phases.install]
# Installs C# dependencies AND Python dependencies
# IMPORTANT: This assumes requirements.txt is in the same folder as this file
cmds = ["dotnet restore", "pip install -r requirements.txt"]

[start]
# We use a trick here: we tell it to look into the subfolder
# Adjust 'MediPredict' if your folder name is different (case-sensitive!)
cmd = "python3 MediPredict/Services/ML/prediction_service.py & dotnet run --project MediPredict"
2025-12-13 00:02:37.194 +02:00 [INF] Executed DbCommand (566ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 00:02:39.118 +02:00 [INF] Executed DbCommand (929ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 50), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = Guid), @p6='?' (Size = 50), @p7='?' (DbType = DateTime2), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (DbType = Guid), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2), @p13='?' (Size = 200), @p14='?' (Size = 100), @p15='?' (DbType = Guid), @p16='?' (Size = 50), @p17='?' (DbType = DateTime2), @p18='?' (Size = 200), @p19='?' (Size = 100), @p20='?' (DbType = Guid), @p21='?' (Size = 50), @p22='?' (DbType = DateTime2), @p23='?' (Size = 200), @p24='?' (Size = 100), @p25='?' (DbType = Guid), @p26='?' (Size = 50), @p27='?' (DbType = DateTime2), @p28='?' (Size = 200), @p29='?' (Size = 100), @p30='?' (DbType = Guid), @p31='?' (Size = 50), @p32='?' (DbType = DateTime2), @p33='?' (Size = 200), @p34='?' (Size = 100), @p35='?' (DbType = Guid), @p36='?' (Size = 50), @p37='?' (DbType = DateTime2), @p38='?' (Size = 200), @p39='?' (Size = 100), @p40='?' (DbType = Guid), @p41='?' (Size = 50), @p42='?' (DbType = DateTime2), @p43='?' (Size = 200), @p44='?' (Size = 100), @p45='?' (DbType = Guid), @p46='?' (Size = 50), @p47='?' (DbType = DateTime2), @p48='?' (Size = 200), @p49='?' (Size = 100), @p50='?' (DbType = Guid), @p51='?' (Size = 50), @p52='?' (DbType = DateTime2), @p53='?' (Size = 200), @p54='?' (Size = 100), @p55='?' (DbType = Guid), @p56='?' (Size = 50), @p57='?' (DbType = DateTime2), @p58='?' (Size = 200), @p59='?' (Size = 100), @p60='?' (DbType = Guid), @p61='?' (Size = 50), @p62='?' (DbType = DateTime2), @p63='?' (Size = 200), @p64='?' (Size = 100), @p65='?' (DbType = Guid), @p66='?' (Size = 50), @p67='?' (DbType = DateTime2), @p68='?' (Size = 200), @p69='?' (Size = 100), @p70='?' (DbType = Guid), @p71='?' (Size = 50), @p72='?' (DbType = DateTime2), @p73='?' (Size = 200), @p74='?' (Size = 100), @p75='?' (DbType = Guid), @p76='?' (Size = 50), @p77='?' (DbType = DateTime2), @p78='?' (Size = 200), @p79='?' (Size = 100), @p80='?' (DbType = Guid), @p81='?' (Size = 50), @p82='?' (DbType = DateTime2), @p83='?' (Size = 200), @p84='?' (Size = 100), @p85='?' (DbType = Guid), @p86='?' (Size = 50), @p87='?' (DbType = DateTime2), @p88='?' (Size = 200), @p89='?' (Size = 100), @p90='?' (DbType = Guid), @p91='?' (Size = 50), @p92='?' (DbType = DateTime2), @p93='?' (Size = 200), @p94='?' (Size = 100), @p95='?' (DbType = Guid), @p96='?' (Size = 50), @p97='?' (DbType = DateTime2), @p98='?' (Size = 200), @p99='?' (Size = 100), @p100='?' (DbType = Guid), @p101='?' (Size = 50), @p102='?' (DbType = DateTime2), @p103='?' (Size = 200), @p104='?' (Size = 100), @p105='?' (DbType = Guid), @p106='?' (Size = 50), @p107='?' (DbType = DateTime2), @p108='?' (Size = 200), @p109='?' (Size = 100), @p110='?' (DbType = Guid), @p111='?' (Size = 50), @p112='?' (DbType = DateTime2), @p113='?' (Size = 200), @p114='?' (Size = 100), @p115='?' (DbType = Guid), @p116='?' (Size = 50), @p117='?' (DbType = DateTime2), @p118='?' (Size = 200), @p119='?' (Size = 100), @p120='?' (DbType = Guid), @p121='?' (Size = 50), @p122='?' (DbType = DateTime2), @p123='?' (Size = 200), @p124='?' (Size = 100), @p125='?' (DbType = Guid), @p126='?' (Size = 50), @p127='?' (DbType = DateTime2), @p128='?' (Size = 200), @p129='?' (Size = 100), @p130='?' (DbType = Guid), @p131='?' (Size = 50), @p132='?' (DbType = DateTime2), @p133='?' (Size = 200), @p134='?' (Size = 100), @p135='?' (DbType = Guid), @p136='?' (Size = 50), @p137='?' (DbType = DateTime2), @p138='?' (Size = 200), @p139='?' (Size = 100), @p140='?' (DbType = Guid), @p141='?' (Size = 50), @p142='?' (DbType = DateTime2), @p143='?' (Size = 200), @p144='?' (Size = 100), @p145='?' (DbType = Guid), @p146='?' (Size = 50), @p147='?' (DbType = DateTime2), @p148='?' (Size = 200), @p149='?' (Size = 100), @p150='?' (DbType = Guid), @p151='?' (Size = 50), @p152='?' (DbType = DateTime2), @p153='?' (Size = 200), @p154='?' (Size = 100), @p155='?' (DbType = Guid), @p156='?' (Size = 50), @p157='?' (DbType = DateTime2), @p158='?' (Size = 200), @p159='?' (Size = 100), @p160='?' (DbType = Guid), @p161='?' (Size = 50), @p162='?' (DbType = DateTime2), @p163='?' (Size = 200), @p164='?' (Size = 100), @p165='?' (DbType = Guid), @p166='?' (Size = 50), @p167='?' (DbType = DateTime2), @p168='?' (Size = 200), @p169='?' (Size = 100), @p170='?' (DbType = Guid), @p171='?' (Size = 50), @p172='?' (DbType = DateTime2), @p173='?' (Size = 200), @p174='?' (Size = 100), @p175='?' (DbType = Guid), @p176='?' (Size = 50), @p177='?' (DbType = DateTime2), @p178='?' (Size = 200), @p179='?' (Size = 100), @p180='?' (DbType = Guid), @p181='?' (Size = 50), @p182='?' (DbType = DateTime2), @p183='?' (Size = 200), @p184='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Permissions] ([Id], [Category], [CreatedAt], [Description], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4),
(@p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24),
(@p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34),
(@p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54),
(@p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64),
(@p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74),
(@p75, @p76, @p77, @p78, @p79),
(@p80, @p81, @p82, @p83, @p84),
(@p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94),
(@p95, @p96, @p97, @p98, @p99),
(@p100, @p101, @p102, @p103, @p104),
(@p105, @p106, @p107, @p108, @p109),
(@p110, @p111, @p112, @p113, @p114),
(@p115, @p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123, @p124),
(@p125, @p126, @p127, @p128, @p129),
(@p130, @p131, @p132, @p133, @p134),
(@p135, @p136, @p137, @p138, @p139),
(@p140, @p141, @p142, @p143, @p144),
(@p145, @p146, @p147, @p148, @p149),
(@p150, @p151, @p152, @p153, @p154),
(@p155, @p156, @p157, @p158, @p159),
(@p160, @p161, @p162, @p163, @p164),
(@p165, @p166, @p167, @p168, @p169),
(@p170, @p171, @p172, @p173, @p174),
(@p175, @p176, @p177, @p178, @p179),
(@p180, @p181, @p182, @p183, @p184);
2025-12-13 00:02:39.375 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (Size = 50), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (Size = 200), @p13='?' (DbType = Boolean), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Roles] ([Id], [CreatedAt], [Description], [IsActive], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4),
(@p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14);
2025-12-13 00:02:40.318 +02:00 [INF] Executed DbCommand (898ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Guid), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Guid), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Guid), @p31='?' (DbType = Guid), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Guid), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = Guid), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Guid), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime2), @p46='?' (DbType = Guid), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Guid), @p51='?' (DbType = Guid), @p52='?' (DbType = Guid), @p53='?' (DbType = DateTime2), @p54='?' (DbType = Guid), @p55='?' (DbType = Guid), @p56='?' (DbType = Guid), @p57='?' (DbType = DateTime2), @p58='?' (DbType = Guid), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Guid), @p63='?' (DbType = Guid), @p64='?' (DbType = Guid), @p65='?' (DbType = DateTime2), @p66='?' (DbType = Guid), @p67='?' (DbType = Guid), @p68='?' (DbType = Guid), @p69='?' (DbType = DateTime2), @p70='?' (DbType = Guid), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Guid), @p75='?' (DbType = Guid), @p76='?' (DbType = Guid), @p77='?' (DbType = DateTime2), @p78='?' (DbType = Guid), @p79='?' (DbType = Guid), @p80='?' (DbType = Guid), @p81='?' (DbType = DateTime2), @p82='?' (DbType = Guid), @p83='?' (DbType = Guid), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Guid), @p87='?' (DbType = Guid), @p88='?' (DbType = Guid), @p89='?' (DbType = DateTime2), @p90='?' (DbType = Guid), @p91='?' (DbType = Guid), @p92='?' (DbType = Guid), @p93='?' (DbType = DateTime2), @p94='?' (DbType = Guid), @p95='?' (DbType = Guid), @p96='?' (DbType = Guid), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Guid), @p99='?' (DbType = Guid), @p100='?' (DbType = Guid), @p101='?' (DbType = DateTime2), @p102='?' (DbType = Guid), @p103='?' (DbType = Guid), @p104='?' (DbType = Guid), @p105='?' (DbType = DateTime2), @p106='?' (DbType = Guid), @p107='?' (DbType = Guid), @p108='?' (DbType = Guid), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Guid), @p111='?' (DbType = Guid), @p112='?' (DbType = Guid), @p113='?' (DbType = DateTime2), @p114='?' (DbType = Guid), @p115='?' (DbType = Guid), @p116='?' (DbType = Guid), @p117='?' (DbType = DateTime2), @p118='?' (DbType = Guid), @p119='?' (DbType = Guid), @p120='?' (DbType = Guid), @p121='?' (DbType = DateTime2), @p122='?' (DbType = Guid), @p123='?' (DbType = Guid), @p124='?' (DbType = Guid), @p125='?' (DbType = DateTime2), @p126='?' (DbType = Guid), @p127='?' (DbType = Guid), @p128='?' (DbType = Guid), @p129='?' (DbType = DateTime2), @p130='?' (DbType = Guid), @p131='?' (DbType = Guid), @p132='?' (DbType = Guid), @p133='?' (DbType = DateTime2), @p134='?' (DbType = Guid), @p135='?' (DbType = Guid), @p136='?' (DbType = Guid), @p137='?' (DbType = DateTime2), @p138='?' (DbType = Guid), @p139='?' (DbType = Guid), @p140='?' (DbType = Guid), @p141='?' (DbType = DateTime2), @p142='?' (DbType = Guid), @p143='?' (DbType = Guid), @p144='?' (DbType = Guid), @p145='?' (DbType = DateTime2), @p146='?' (DbType = Guid), @p147='?' (DbType = Guid), @p148='?' (DbType = Guid), @p149='?' (DbType = DateTime2), @p150='?' (DbType = Guid), @p151='?' (DbType = Guid), @p152='?' (DbType = Guid), @p153='?' (DbType = DateTime2), @p154='?' (DbType = Guid), @p155='?' (DbType = Guid), @p156='?' (DbType = Guid), @p157='?' (DbType = DateTime2), @p158='?' (DbType = Guid), @p159='?' (DbType = Guid), @p160='?' (DbType = Guid), @p161='?' (DbType = DateTime2), @p162='?' (DbType = Guid), @p163='?' (DbType = Guid), @p164='?' (DbType = Guid), @p165='?' (DbType = DateTime2), @p166='?' (DbType = Guid), @p167='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RolePermissions] ([Id], [AssignedAt], [PermissionId], [RoleId])
VALUES (@p0, @p1, @p2, @p3),
(@p4, @p5, @p6, @p7),
(@p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15),
(@p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27),
(@p28, @p29, @p30, @p31),
(@p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43),
(@p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51),
(@p52, @p53, @p54, @p55),
(@p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63),
(@p64, @p65, @p66, @p67),
(@p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75),
(@p76, @p77, @p78, @p79),
(@p80, @p81, @p82, @p83),
(@p84, @p85, @p86, @p87),
(@p88, @p89, @p90, @p91),
(@p92, @p93, @p94, @p95),
(@p96, @p97, @p98, @p99),
(@p100, @p101, @p102, @p103),
(@p104, @p105, @p106, @p107),
(@p108, @p109, @p110, @p111),
(@p112, @p113, @p114, @p115),
(@p116, @p117, @p118, @p119),
(@p120, @p121, @p122, @p123),
(@p124, @p125, @p126, @p127),
(@p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135),
(@p136, @p137, @p138, @p139),
(@p140, @p141, @p142, @p143),
(@p144, @p145, @p146, @p147),
(@p148, @p149, @p150, @p151),
(@p152, @p153, @p154, @p155),
(@p156, @p157, @p158, @p159),
(@p160, @p161, @p162, @p163),
(@p164, @p165, @p166, @p167);
2025-12-13 00:02:40.340 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Guid), @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Guid), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Guid), @p31='?' (DbType = Guid), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Guid), @p35='?' (DbType = Guid), @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = Guid), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Guid), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime2), @p46='?' (DbType = Guid), @p47='?' (DbType = Guid), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Guid), @p51='?' (DbType = Guid), @p52='?' (DbType = Guid), @p53='?' (DbType = DateTime2), @p54='?' (DbType = Guid), @p55='?' (DbType = Guid), @p56='?' (DbType = Guid), @p57='?' (DbType = DateTime2), @p58='?' (DbType = Guid), @p59='?' (DbType = Guid), @p60='?' (DbType = Guid), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Guid), @p63='?' (DbType = Guid), @p64='?' (DbType = Guid), @p65='?' (DbType = DateTime2), @p66='?' (DbType = Guid), @p67='?' (DbType = Guid), @p68='?' (DbType = Guid), @p69='?' (DbType = DateTime2), @p70='?' (DbType = Guid), @p71='?' (DbType = Guid), @p72='?' (DbType = Guid), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Guid), @p75='?' (DbType = Guid), @p76='?' (DbType = Guid), @p77='?' (DbType = DateTime2), @p78='?' (DbType = Guid), @p79='?' (DbType = Guid), @p80='?' (DbType = Guid), @p81='?' (DbType = DateTime2), @p82='?' (DbType = Guid), @p83='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RolePermissions] ([Id], [AssignedAt], [PermissionId], [RoleId])
VALUES (@p0, @p1, @p2, @p3),
(@p4, @p5, @p6, @p7),
(@p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15),
(@p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23),
(@p24, @p25, @p26, @p27),
(@p28, @p29, @p30, @p31),
(@p32, @p33, @p34, @p35),
(@p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43),
(@p44, @p45, @p46, @p47),
(@p48, @p49, @p50, @p51),
(@p52, @p53, @p54, @p55),
(@p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63),
(@p64, @p65, @p66, @p67),
(@p68, @p69, @p70, @p71),
(@p72, @p73, @p74, @p75),
(@p76, @p77, @p78, @p79),
(@p80, @p81, @p82, @p83);
2025-12-13 00:02:40.424 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 00:02:40.452 +02:00 [INF] Appointment Reminder Service started at "2025-12-12T22:02:40.4499581Z"
2025-12-13 00:02:40.628 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 00:02:40.630 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 00:02:40.715 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 00:02:40.717 +02:00 [INF] Hosting environment: Development
2025-12-13 00:02:40.720 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\Dotnet_Web_Api\MediPredict\MediPredict
2025-12-13 00:03:10.494 +02:00 [INF] Checking for reminders to send at "2025-12-12T22:03:10.4948044Z"
2025-12-13 00:03:12.309 +02:00 [INF] Executed DbCommand (792ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 00:03:12.324 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 00:03:30.708 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 00:03:33.572 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 2998.4701ms
2025-12-13 00:03:35.454 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 00:03:35.467 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 9.3383ms
2025-12-13 00:03:35.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 00:03:42.735 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6756.6936ms
2025-12-13 00:03:43.085 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 00:03:43.466 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 380.9057ms
2025-12-13 00:10:45.028 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/register - application/json 392
2025-12-13 00:10:45.072 +02:00 [INF] CORS policy execution successful.
2025-12-13 00:10:45.522 +02:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2025-12-13 00:10:45.780 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 00:10:45.895 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Register(MediPredict.Data.ViewModels.UserRegistrationViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 00:10:46.056 +02:00 [WRN] RegisterUserAsync in UserService is deprecated - use CustomAuthService instead
2025-12-13 00:10:46.065 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 00:10:46.076 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Register (MediPredict) in 172.6414ms
2025-12-13 00:10:46.080 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 00:10:46.084 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/register - 400 null application/json; charset=utf-8 1056.0424ms
2025-12-13 00:14:39.243 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 00:14:39.417 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 00:14:39.432 +02:00 [INF] Appointment Reminder Service started at "2025-12-12T22:14:39.4298844Z"
2025-12-13 00:14:39.902 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 00:14:39.904 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 00:14:39.999 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 00:14:40.001 +02:00 [INF] Hosting environment: Development
2025-12-13 00:14:40.002 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\Dotnet_Web_Api\MediPredict\MediPredict
2025-12-13 00:14:40.370 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 00:14:40.643 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 268.3861ms
2025-12-13 00:14:40.813 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 00:14:40.813 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 00:14:40.829 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 16.3465ms
2025-12-13 00:14:40.945 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 132.8201ms
2025-12-13 00:14:41.048 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 00:14:41.111 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.366ms
2025-12-13 00:15:09.468 +02:00 [INF] Checking for reminders to send at "2025-12-12T22:15:09.4682203Z"
2025-12-13 00:15:09.971 +02:00 [INF] Executed DbCommand (299ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 00:15:09.985 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 00:16:58.594 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/register - application/json 389
2025-12-13 00:16:58.701 +02:00 [INF] CORS policy execution successful.
2025-12-13 00:16:59.189 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 00:16:59.283 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Register(MediPredict.Data.ViewModels.UserRegistrationViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 00:16:59.663 +02:00 [INF] Starting registration for florence@gmail.com as Doctor
2025-12-13 00:16:59.995 +02:00 [INF] Executed DbCommand (310ms) [Parameters=[@__model_Role_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__model_Role_0
2025-12-13 00:17:00.450 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__model_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0
2025-12-13 00:17:00.566 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__model_LicenseNumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[LicenseNumber] = @__model_LicenseNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 00:17:01.625 +02:00 [INF] Executed DbCommand (278ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 4000), @p11='?' (Size = 20), @p12='?' (Size = 500), @p13='?' (DbType = Guid), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Address], [CreatedAt], [DateOfBirth], [Email], [FirstName], [Gender], [IsActive], [LastLoginAt], [LastName], [PasswordHash], [PhoneNumber], [ProfilePicture], [RoleId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-13 00:17:01.903 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (DbType = Time), @p3='?' (DbType = Time), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean), @p9='?' (Size = 50), @p10='?' (Size = 4000), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Doctors] ([Id], [AvailableDays], [AvailableTimeEnd], [AvailableTimeStart], [Bio], [ConsultationFee], [CreatedAt], [Experience], [IsVerified], [LicenseNumber], [Qualifications], [Specialization], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-12-13 00:17:02.018 +02:00 [INF] Registration successful for florence@gmail.com as Doctor
2025-12-13 00:17:02.037 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 00:17:02.064 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Register (MediPredict) in 2766.3199ms
2025-12-13 00:17:02.068 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 00:17:02.075 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/register - 200 null application/json; charset=utf-8 3481.2186ms
2025-12-13 00:17:45.416 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 58
2025-12-13 00:17:45.422 +02:00 [INF] CORS policy execution successful.
2025-12-13 00:17:45.434 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 00:17:45.506 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 00:17:45.521 +02:00 [INF] Login attempt for florence@gmail.com
2025-12-13 00:17:45.869 +02:00 [INF] Executed DbCommand (324ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 00:17:45.976 +02:00 [WRN] Login failed: Invalid password for florence@gmail.com
2025-12-13 00:17:46.008 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 00:17:46.011 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 502.9915ms
2025-12-13 00:17:46.014 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 00:17:46.016 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 401 null application/json; charset=utf-8 600.4318ms
2025-12-13 00:17:58.420 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 61
2025-12-13 00:17:58.426 +02:00 [INF] CORS policy execution successful.
2025-12-13 00:17:58.428 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 00:17:58.429 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 00:17:58.436 +02:00 [INF] Login attempt for florence@gmail.com
2025-12-13 00:17:58.454 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 00:17:58.665 +02:00 [INF] Executed DbCommand (198ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 00:17:58.679 +02:00 [INF] Login successful for florence@gmail.com
2025-12-13 00:17:58.690 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 00:17:58.697 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 00:17:58.706 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 272.1587ms
2025-12-13 00:17:58.708 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 00:17:58.711 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 290.4938ms
2025-12-13 00:18:21.826 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Auth/current-user - null null
2025-12-13 00:18:21.832 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.GetCurrentUser (MediPredict)'
2025-12-13 00:18:21.851 +02:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.Models.ApplicationUser]]] GetCurrentUser(System.String) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 00:18:21.877 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-13 00:18:22.047 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.GetCurrentUser (MediPredict) in 192.5411ms
2025-12-13 00:18:22.051 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.GetCurrentUser (MediPredict)'
2025-12-13 00:18:22.053 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Auth/current-user - 400 null application/problem+json; charset=utf-8 226.5345ms
2025-12-13 00:18:56.494 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?page=1&pageSize=12 - null null
2025-12-13 00:18:56.499 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 00:18:56.526 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 00:18:56.577 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 00:18:56.581 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 00:18:56.586 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 31.8858ms
2025-12-13 00:18:56.588 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 00:18:56.590 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?page=1&pageSize=12 - 401 null application/json; charset=utf-8 95.7277ms
2025-12-13 00:20:46.297 +02:00 [INF] Application is shutting down...
2025-12-13 11:46:17.229 +02:00 [INF] Executed DbCommand (4,111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 11:46:19.178 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 11:46:19.310 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T09:46:19.3048401Z"
2025-12-13 11:46:30.751 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 11:46:30.754 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 11:46:32.158 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 11:46:32.160 +02:00 [INF] Hosting environment: Development
2025-12-13 11:46:32.162 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 11:46:49.375 +02:00 [INF] Checking for reminders to send at "2025-12-13T09:46:49.3756851Z"
2025-12-13 11:46:51.913 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 11:46:55.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 3254.9328ms
2025-12-13 11:46:56.767 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 11:46:56.788 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 21.2998ms
2025-12-13 11:46:57.343 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 11:46:58.714 +02:00 [INF] Executed DbCommand (6,525ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 11:46:58.729 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 11:47:00.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 3217.1417ms
2025-12-13 11:47:01.215 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 11:47:01.926 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 711.4282ms
2025-12-13 11:56:29.617 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5291/api/Auth/register - null null
2025-12-13 11:56:29.988 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5291/api/Auth/register - 307 0 null 371.1149ms
2025-12-13 12:03:16.256 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/register - null null
2025-12-13 12:03:16.271 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:03:16.274 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/register - 204 null null 18.0501ms
2025-12-13 12:07:39.549 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 12:07:39.876 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 12:07:39.972 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T10:07:39.9678716Z"
2025-12-13 12:07:41.371 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 12:07:41.374 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 12:07:41.544 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 12:07:41.553 +02:00 [INF] Hosting environment: Development
2025-12-13 12:07:41.555 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 12:07:42.336 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 12:07:43.379 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 1046.7792ms
2025-12-13 12:07:44.187 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 12:07:44.199 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 11.4119ms
2025-12-13 12:07:44.262 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 12:07:44.311 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.0315ms
2025-12-13 12:07:44.845 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 12:07:44.898 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.8507ms
2025-12-13 12:07:52.745 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/register - null null
2025-12-13 12:07:52.754 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:07:52.820 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/register - 204 null null 75.6028ms
2025-12-13 12:07:52.876 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/register - application/json 214
2025-12-13 12:07:52.882 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:07:53.421 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 12:07:53.514 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Register(MediPredict.Data.ViewModels.UserRegistrationViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 12:07:53.837 +02:00 [INF] Starting registration for ishimwe@gmail.com as Patient
2025-12-13 12:07:54.358 +02:00 [INF] Executed DbCommand (407ms) [Parameters=[@__model_Role_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__model_Role_0
2025-12-13 12:07:54.634 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[@__model_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0
2025-12-13 12:07:55.485 +02:00 [INF] Executed DbCommand (345ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 4000), @p11='?' (Size = 20), @p12='?' (Size = 500), @p13='?' (DbType = Guid), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Address], [CreatedAt], [DateOfBirth], [Email], [FirstName], [Gender], [IsActive], [LastLoginAt], [LastName], [PasswordHash], [PhoneNumber], [ProfilePicture], [RoleId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-13 12:07:55.882 +02:00 [INF] Executed DbCommand (317ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 5), @p3='?' (DbType = DateTime2), @p4='?' (Size = 100), @p5='?' (Size = 20), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Patients] ([Id], [Allergies], [BloodGroup], [CreatedAt], [EmergencyContact], [EmergencyPhone], [MedicalHistory], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-12-13 12:07:55.984 +02:00 [INF] Registration successful for ishimwe@gmail.com as Patient
2025-12-13 12:07:55.998 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:07:56.050 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Register (MediPredict) in 2509.5584ms
2025-12-13 12:07:56.055 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 12:07:56.069 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/register - 200 null application/json; charset=utf-8 3193.1922ms
2025-12-13 12:07:56.072 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 12:07:56.102 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:07:56.105 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 33.0271ms
2025-12-13 12:07:56.115 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 55
2025-12-13 12:07:56.129 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:07:56.145 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 12:07:56.161 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 12:07:56.178 +02:00 [INF] Login attempt for ishimwe@gmail.com
2025-12-13 12:07:56.653 +02:00 [INF] Executed DbCommand (244ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 12:07:57.294 +02:00 [INF] Executed DbCommand (474ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 12:07:57.308 +02:00 [INF] Login successful for ishimwe@gmail.com
2025-12-13 12:07:57.405 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 12:07:57.414 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:07:57.426 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 1259.0977ms
2025-12-13 12:07:57.429 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 12:07:57.432 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 1316.5696ms
2025-12-13 12:08:04.235 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - null null
2025-12-13 12:08:04.235 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - null null
2025-12-13 12:08:04.247 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:08:04.259 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 204 null null 24.5484ms
2025-12-13 12:08:04.257 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:08:04.273 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 204 null null 38.621ms
2025-12-13 12:08:04.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - application/json null
2025-12-13 12:08:04.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - application/json null
2025-12-13 12:08:04.319 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:08:04.328 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:08:04.334 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict)'
2025-12-13 12:08:04.335 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:08:04.367 +02:00 [INF] Route matched with {action = "GetPredictionHistory", controller = "Predictions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetPredictionHistory(System.String) on controller MediPredict.Controllers.Api.PredictionsController (MediPredict).
2025-12-13 12:08:04.553 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 12:08:04.652 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 12:08:04.655 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:08:04.662 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 103.3895ms
2025-12-13 12:08:04.666 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:08:04.671 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 401 null application/json; charset=utf-8 381.8255ms
2025-12-13 12:08:05.075 +02:00 [INF] Executed DbCommand (224ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userGuid_0
2025-12-13 12:08:05.887 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - application/json null
2025-12-13 12:08:05.894 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:08:05.897 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:08:05.901 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 12:08:05.909 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 12:08:05.911 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:08:05.918 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 10.0564ms
2025-12-13 12:08:05.923 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:08:05.928 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 401 null application/json; charset=utf-8 40.9223ms
2025-12-13 12:08:07.870 +02:00 [INF] Executed DbCommand (2,682ms) [Parameters=[@__patient_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[Description], [s].[PatientId], [s].[SeverityLevel], [t].[Id], [t].[ConfidenceLevel], [t].[CreatedAt], [t].[DiseaseId], [t].[Probability], [t].[Recommendations], [t].[SymptomEntryId], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive], [t].[Name], [t].[Precautions], [t].[ProbabilityScore], [t].[RecommendedAction], [t].[SymptomsDescription], [t].[UpdatedAt]
FROM [SymptomEntries] AS [s]
LEFT JOIN (
    SELECT [a].[Id], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DiseaseId], [a].[Probability], [a].[Recommendations], [a].[SymptomEntryId], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[Description], [d].[IsActive], [d].[Name], [d].[Precautions], [d].[ProbabilityScore], [d].[RecommendedAction], [d].[SymptomsDescription], [d].[UpdatedAt]
    FROM [AIPredictions] AS [a]
    INNER JOIN [Diseases] AS [d] ON [a].[DiseaseId] = [d].[Id]
) AS [t] ON [s].[Id] = [t].[SymptomEntryId]
WHERE [s].[PatientId] = @__patient_Id_0
ORDER BY [s].[CreatedAt] DESC, [s].[Id], [t].[Id]
2025-12-13 12:08:07.882 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:08:07.895 +02:00 [INF] Executed action MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict) in 3521.1202ms
2025-12-13 12:08:07.900 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict)'
2025-12-13 12:08:07.904 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 200 null application/json; charset=utf-8 3616.8451ms
2025-12-13 12:08:08.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - application/json null
2025-12-13 12:08:08.017 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:08:08.020 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:08:08.022 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 12:08:08.030 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 12:08:08.035 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:08:08.040 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 10.2581ms
2025-12-13 12:08:08.045 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:08:08.047 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 401 null application/json; charset=utf-8 36.0242ms
2025-12-13 12:08:10.131 +02:00 [INF] Checking for reminders to send at "2025-12-13T10:08:10.1311101Z"
2025-12-13 12:08:10.472 +02:00 [INF] Executed DbCommand (203ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 12:08:10.489 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 12:08:12.059 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - null null
2025-12-13 12:08:12.066 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:08:12.067 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 204 null null 8.0667ms
2025-12-13 12:08:12.071 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - application/json null
2025-12-13 12:08:12.084 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:08:12.088 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:08:12.092 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 12:08:12.097 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 12:08:12.099 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:08:12.104 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 7.0022ms
2025-12-13 12:08:12.108 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:08:12.112 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 401 null application/json; charset=utf-8 41.2648ms
2025-12-13 12:11:20.764 +02:00 [INF] Application is shutting down...
2025-12-13 12:12:41.046 +02:00 [INF] Executed DbCommand (359ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 12:12:41.389 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 12:12:41.427 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T10:12:41.4226733Z"
2025-12-13 12:12:43.253 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 12:12:43.255 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 12:12:43.428 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 12:12:43.430 +02:00 [INF] Hosting environment: Development
2025-12-13 12:12:43.436 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 12:12:43.983 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 12:12:46.610 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 2628.2257ms
2025-12-13 12:12:47.042 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 12:12:47.061 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 18.1193ms
2025-12-13 12:12:47.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 12:12:47.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.1442ms
2025-12-13 12:12:48.168 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 12:12:48.266 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.7089ms
2025-12-13 12:13:03.276 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 12:13:03.320 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:03.326 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 50.3399ms
2025-12-13 12:13:03.331 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 12:13:03.343 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:03.853 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 12:13:03.897 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 12:13:04.009 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 12:13:04.025 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 112.3059ms
2025-12-13 12:13:04.029 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 12:13:04.035 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 703.8079ms
2025-12-13 12:13:11.469 +02:00 [INF] Checking for reminders to send at "2025-12-13T10:13:11.4694893Z"
2025-12-13 12:13:12.457 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 12:13:12.469 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 12:13:24.669 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 12:13:24.674 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:24.676 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 6.8338ms
2025-12-13 12:13:24.691 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 55
2025-12-13 12:13:24.719 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:24.739 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 12:13:24.777 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 12:13:25.231 +02:00 [INF] Login attempt for ishimwe@gmail.com
2025-12-13 12:13:25.472 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 12:13:26.166 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 12:13:26.184 +02:00 [INF] Login successful for ishimwe@gmail.com
2025-12-13 12:13:26.202 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 12:13:26.207 +02:00 [INF] Session created for user ishimwe@gmail.com with ID "6166a7b1-b61d-4a14-a8cb-6b4810d8d092"
2025-12-13 12:13:26.235 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:13:26.402 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 1618.0897ms
2025-12-13 12:13:26.405 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 12:13:26.409 +02:00 [INF] Session started; Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c, Id:bd774d07-037e-881a-7a46-dcb65abb8307
2025-12-13 12:13:26.421 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 1729.6153ms
2025-12-13 12:13:27.439 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - null null
2025-12-13 12:13:27.439 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - null null
2025-12-13 12:13:27.447 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:27.451 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:27.452 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 204 null null 13.6099ms
2025-12-13 12:13:27.455 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 204 null null 15.7888ms
2025-12-13 12:13:27.458 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - application/json null
2025-12-13 12:13:27.461 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - application/json null
2025-12-13 12:13:27.475 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:27.479 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:27.483 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict)'
2025-12-13 12:13:27.492 +02:00 [INF] Route matched with {action = "GetPredictionHistory", controller = "Predictions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetPredictionHistory(System.String) on controller MediPredict.Controllers.Api.PredictionsController (MediPredict).
2025-12-13 12:13:27.744 +02:00 [INF] Executed DbCommand (235ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 12:13:27.797 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:13:27.832 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userGuid_0
2025-12-13 12:13:27.853 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 12:13:27.957 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-13 12:13:28.679 +02:00 [INF] Executed DbCommand (745ms) [Parameters=[@__patient_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[Description], [s].[PatientId], [s].[SeverityLevel], [t].[Id], [t].[ConfidenceLevel], [t].[CreatedAt], [t].[DiseaseId], [t].[Probability], [t].[Recommendations], [t].[SymptomEntryId], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive], [t].[Name], [t].[Precautions], [t].[ProbabilityScore], [t].[RecommendedAction], [t].[SymptomsDescription], [t].[UpdatedAt]
FROM [SymptomEntries] AS [s]
LEFT JOIN (
    SELECT [a].[Id], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DiseaseId], [a].[Probability], [a].[Recommendations], [a].[SymptomEntryId], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[Description], [d].[IsActive], [d].[Name], [d].[Precautions], [d].[ProbabilityScore], [d].[RecommendedAction], [d].[SymptomsDescription], [d].[UpdatedAt]
    FROM [AIPredictions] AS [a]
    INNER JOIN [Diseases] AS [d] ON [a].[DiseaseId] = [d].[Id]
) AS [t] ON [s].[Id] = [t].[SymptomEntryId]
WHERE [s].[PatientId] = @__patient_Id_0
ORDER BY [s].[CreatedAt] DESC, [s].[Id], [t].[Id]
2025-12-13 12:13:28.692 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:13:28.718 +02:00 [INF] Executed action MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict) in 1221.2776ms
2025-12-13 12:13:28.723 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict)'
2025-12-13 12:13:28.726 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 200 null application/json; charset=utf-8 1265.2576ms
2025-12-13 12:13:28.938 +02:00 [INF] Executed DbCommand (960ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 12:13:29.046 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 12:13:29.049 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:13:29.057 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 1198.0071ms
2025-12-13 12:13:29.062 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:13:29.065 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 403 null application/json; charset=utf-8 1607.2548ms
2025-12-13 12:13:30.205 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - application/json null
2025-12-13 12:13:30.210 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:30.226 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 12:13:30.232 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:13:30.234 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 12:13:30.311 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 12:13:30.320 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 12:13:30.322 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:13:30.325 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 86.9108ms
2025-12-13 12:13:30.329 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:13:30.331 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 403 null application/json; charset=utf-8 125.7522ms
2025-12-13 12:13:32.338 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - application/json null
2025-12-13 12:13:32.344 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:32.354 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 12:13:32.360 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:13:32.362 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 12:13:32.411 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 12:13:32.424 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 12:13:32.426 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:13:32.428 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 62.3701ms
2025-12-13 12:13:32.432 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:13:32.435 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 403 null application/json; charset=utf-8 95.6207ms
2025-12-13 12:13:36.457 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - null null
2025-12-13 12:13:36.461 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:36.463 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 204 null null 5.9244ms
2025-12-13 12:13:36.474 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - application/json null
2025-12-13 12:13:36.480 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:13:36.491 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 12:13:36.499 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:13:36.501 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 12:13:36.561 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 12:13:36.570 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 12:13:36.571 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:13:36.573 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 69.2205ms
2025-12-13 12:13:36.578 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:13:36.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 403 null application/json; charset=utf-8 106.0789ms
2025-12-13 12:20:10.046 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 12:20:10.245 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 12:20:10.261 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T10:20:10.2581721Z"
2025-12-13 12:20:10.795 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 12:20:10.797 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 12:20:10.932 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 12:20:10.937 +02:00 [INF] Hosting environment: Development
2025-12-13 12:20:10.948 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 12:20:13.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 12:20:14.122 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 12:20:14.124 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 844.3266ms
2025-12-13 12:20:14.142 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 20.2656ms
2025-12-13 12:20:15.284 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 12:20:15.340 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.7036ms
2025-12-13 12:20:15.672 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 12:20:15.739 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.932ms
2025-12-13 12:20:26.996 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 12:20:27.007 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:20:27.011 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 14.0759ms
2025-12-13 12:20:27.014 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 12:20:27.023 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:20:27.107 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 12:20:27.124 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 12:20:27.209 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 12:20:27.220 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 88.6884ms
2025-12-13 12:20:27.223 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 12:20:27.229 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 214.3599ms
2025-12-13 12:20:40.306 +02:00 [INF] Checking for reminders to send at "2025-12-13T10:20:40.3064146Z"
2025-12-13 12:20:40.742 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 12:20:40.751 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 12:20:52.133 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 12:20:52.139 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:20:52.142 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 8.5992ms
2025-12-13 12:20:52.195 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 55
2025-12-13 12:20:52.205 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:20:52.216 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 12:20:52.221 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 12:20:52.246 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 12:20:52.399 +02:00 [INF] Login attempt for ishimwe@gmail.com
2025-12-13 12:20:52.566 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 12:20:52.938 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 12:20:52.961 +02:00 [INF] Login successful for ishimwe@gmail.com
2025-12-13 12:20:52.998 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 12:20:53.005 +02:00 [INF] Session created for user ishimwe@gmail.com with ID "6166a7b1-b61d-4a14-a8cb-6b4810d8d092"
2025-12-13 12:20:53.011 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:20:53.033 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 777.5106ms
2025-12-13 12:20:53.038 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 12:20:53.041 +02:00 [INF] Session started; Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c, Id:55784f63-971e-6dbe-ee91-661e009d11d8
2025-12-13 12:20:53.056 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 861.0492ms
2025-12-13 12:20:53.938 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - null null
2025-12-13 12:20:53.947 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - null null
2025-12-13 12:20:53.948 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:20:53.952 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:20:53.954 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 204 null null 15.7791ms
2025-12-13 12:20:53.956 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 204 null null 9.3897ms
2025-12-13 12:20:53.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - application/json null
2025-12-13 12:20:53.964 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - application/json null
2025-12-13 12:20:53.973 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:20:53.978 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:20:53.981 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict)'
2025-12-13 12:20:53.990 +02:00 [INF] Route matched with {action = "GetPredictionHistory", controller = "Predictions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetPredictionHistory(System.String) on controller MediPredict.Controllers.Api.PredictionsController (MediPredict).
2025-12-13 12:20:54.017 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 12:20:54.028 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:20:54.037 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 12:20:54.089 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-13 12:20:54.099 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userGuid_0
2025-12-13 12:20:54.121 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 12:20:54.232 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__patient_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[Description], [s].[PatientId], [s].[SeverityLevel], [t].[Id], [t].[ConfidenceLevel], [t].[CreatedAt], [t].[DiseaseId], [t].[Probability], [t].[Recommendations], [t].[SymptomEntryId], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive], [t].[Name], [t].[Precautions], [t].[ProbabilityScore], [t].[RecommendedAction], [t].[SymptomsDescription], [t].[UpdatedAt]
FROM [SymptomEntries] AS [s]
LEFT JOIN (
    SELECT [a].[Id], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DiseaseId], [a].[Probability], [a].[Recommendations], [a].[SymptomEntryId], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[Description], [d].[IsActive], [d].[Name], [d].[Precautions], [d].[ProbabilityScore], [d].[RecommendedAction], [d].[SymptomsDescription], [d].[UpdatedAt]
    FROM [AIPredictions] AS [a]
    INNER JOIN [Diseases] AS [d] ON [a].[DiseaseId] = [d].[Id]
) AS [t] ON [s].[Id] = [t].[SymptomEntryId]
WHERE [s].[PatientId] = @__patient_Id_0
ORDER BY [s].[CreatedAt] DESC, [s].[Id], [t].[Id]
2025-12-13 12:20:54.253 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:20:54.283 +02:00 [INF] Executed action MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict) in 289.2859ms
2025-12-13 12:20:54.293 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict)'
2025-12-13 12:20:54.296 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 200 null application/json; charset=utf-8 331.898ms
2025-12-13 12:20:54.308 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 12:20:54.705 +02:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 12:20:54.975 +02:00 [INF] Executed DbCommand (219ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 12:20:54.981 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:20:54.996 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 954.4495ms
2025-12-13 12:20:54.999 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:20:55.001 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 200 null application/json; charset=utf-8 1040.2864ms
2025-12-13 12:23:04.898 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 12:23:04.904 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:23:04.905 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 6.6358ms
2025-12-13 12:23:04.908 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 12:23:04.918 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:23:04.921 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 12:23:04.925 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 12:23:04.929 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 12:23:04.931 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 3.1201ms
2025-12-13 12:23:04.933 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 12:23:04.935 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 26.7714ms
2025-12-13 12:23:35.203 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 12:23:35.208 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:23:35.209 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 6.5771ms
2025-12-13 12:23:35.215 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 52
2025-12-13 12:23:35.222 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:23:35.242 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 12:23:35.256 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 12:23:35.258 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 12:23:35.268 +02:00 [INF] Login attempt for john.doe@email.com
2025-12-13 12:23:35.275 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 12:23:35.287 +02:00 [WRN] Login failed: User not found for john.doe@email.com
2025-12-13 12:23:35.433 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:23:35.438 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 171.3749ms
2025-12-13 12:23:35.441 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 12:23:35.444 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 401 null application/json; charset=utf-8 229.083ms
2025-12-13 12:25:11.093 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/register - null null
2025-12-13 12:25:11.100 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:25:11.103 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/register - 204 null null 10.7336ms
2025-12-13 12:25:11.112 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/register - application/json 330
2025-12-13 12:25:11.124 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:25:11.149 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 12:25:11.169 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 12:25:11.182 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Register(MediPredict.Data.ViewModels.UserRegistrationViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 12:25:11.601 +02:00 [INF] Starting registration for pongo@gmail.com as Doctor
2025-12-13 12:25:11.640 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__model_Role_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__model_Role_0
2025-12-13 12:25:11.660 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__model_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0
2025-12-13 12:25:11.849 +02:00 [INF] Executed DbCommand (173ms) [Parameters=[@__model_LicenseNumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[LicenseNumber] = @__model_LicenseNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 12:25:11.975 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 4000), @p11='?' (Size = 20), @p12='?' (Size = 500), @p13='?' (DbType = Guid), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Address], [CreatedAt], [DateOfBirth], [Email], [FirstName], [Gender], [IsActive], [LastLoginAt], [LastName], [PasswordHash], [PhoneNumber], [ProfilePicture], [RoleId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-13 12:25:12.257 +02:00 [INF] Executed DbCommand (192ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (DbType = Time), @p3='?' (DbType = Time), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean), @p9='?' (Size = 50), @p10='?' (Size = 4000), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Doctors] ([Id], [AvailableDays], [AvailableTimeEnd], [AvailableTimeStart], [Bio], [ConsultationFee], [CreatedAt], [Experience], [IsVerified], [LicenseNumber], [Qualifications], [Specialization], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-12-13 12:25:12.300 +02:00 [INF] Registration successful for pongo@gmail.com as Doctor
2025-12-13 12:25:12.305 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:25:12.318 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Register (MediPredict) in 1128.9097ms
2025-12-13 12:25:12.321 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 12:25:12.325 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/register - 200 null application/json; charset=utf-8 1213.5625ms
2025-12-13 12:25:12.336 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 12:25:12.343 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:25:12.351 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 14.959ms
2025-12-13 12:25:12.365 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 12:25:12.372 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:25:12.389 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 12:25:12.405 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 12:25:12.414 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 12:25:12.424 +02:00 [INF] Login attempt for pongo@gmail.com
2025-12-13 12:25:12.447 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 12:25:12.550 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 12:25:12.564 +02:00 [INF] Login successful for pongo@gmail.com
2025-12-13 12:25:12.587 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 12:25:12.602 +02:00 [INF] Session created for user pongo@gmail.com with ID "e32e5bfe-7ed8-4206-8517-9e10341a2ab5"
2025-12-13 12:25:12.605 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:25:12.617 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 195.096ms
2025-12-13 12:25:12.623 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 12:25:12.633 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 268.0014ms
2025-12-13 12:25:17.199 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=e32e5bfe-7ed8-4206-8517-9e10341a2ab5&role=doctor - null null
2025-12-13 12:25:17.520 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:25:17.522 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=e32e5bfe-7ed8-4206-8517-9e10341a2ab5&role=doctor - 204 null null 323.0544ms
2025-12-13 12:25:17.525 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=e32e5bfe-7ed8-4206-8517-9e10341a2ab5&role=doctor - application/json null
2025-12-13 12:25:17.540 +02:00 [INF] CORS policy execution successful.
2025-12-13 12:25:17.561 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 12:25:17.586 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:25:17.594 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 12:25:17.661 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 12:25:17.933 +02:00 [INF] Executed DbCommand (239ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 12:25:17.951 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 12:25:17.961 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 12:25:17.965 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 338.907ms
2025-12-13 12:25:17.971 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 12:25:17.974 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=e32e5bfe-7ed8-4206-8517-9e10341a2ab5&role=doctor - 200 null application/json; charset=utf-8 448.6029ms
2025-12-13 12:50:41.057 +02:00 [INF] Checking for reminders to send at "2025-12-13T10:50:41.0564391Z"
2025-12-13 12:50:41.296 +02:00 [INF] Executed DbCommand (114ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[ConsultationFee], [d].[CreatedAt], [d].[Experience], [d].[IsVerified], [d].[LicenseNumber], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 12:50:41.317 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 13:01:17.477 +02:00 [INF] Executed DbCommand (506ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 13:01:18.128 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 13:01:18.165 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T11:01:18.1595049Z"
2025-12-13 13:01:21.715 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 13:01:21.719 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 13:01:22.213 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 13:01:22.215 +02:00 [INF] Hosting environment: Development
2025-12-13 13:01:22.217 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 13:01:48.360 +02:00 [INF] Checking for reminders to send at "2025-12-13T11:01:48.3605082Z"
2025-12-13 13:01:51.148 +02:00 [ERR] Failed executing DbCommand (1,639ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 13:01:55.105 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MediPredict.Data.DatabaseContext.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BoardCertifications'.
Invalid column name 'EducationTraining'.
Invalid column name 'LicenseExpiryDate'.
Invalid column name 'LicenseIssueDate'.
Invalid column name 'LicenseState'.
Invalid column name 'NpiNumber'.
Invalid column name 'ProfessionalTitle'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d56a3079-5cfa-4722-9b7c-6511e59cbb12
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BoardCertifications'.
Invalid column name 'EducationTraining'.
Invalid column name 'LicenseExpiryDate'.
Invalid column name 'LicenseIssueDate'.
Invalid column name 'LicenseState'.
Invalid column name 'NpiNumber'.
Invalid column name 'ProfessionalTitle'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d56a3079-5cfa-4722-9b7c-6511e59cbb12
Error Number:207,State:1,Class:16
2025-12-13 13:01:55.156 +02:00 [ERR] Error occurred while sending appointment reminders
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BoardCertifications'.
Invalid column name 'EducationTraining'.
Invalid column name 'LicenseExpiryDate'.
Invalid column name 'LicenseIssueDate'.
Invalid column name 'LicenseState'.
Invalid column name 'NpiNumber'.
Invalid column name 'ProfessionalTitle'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MediPredict.Services.Implementations.AppointmentReminderService.SendScheduledRemindersAsync() in C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict\Services\Implementations\AppointmentReminderService.cs:line 62
   at MediPredict.Services.Implementations.AppointmentReminderService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict\Services\Implementations\AppointmentReminderService.cs:line 38
ClientConnectionId:d56a3079-5cfa-4722-9b7c-6511e59cbb12
Error Number:207,State:1,Class:16
2025-12-13 13:04:34.076 +02:00 [INF] Application is shutting down...
2025-12-13 13:12:46.984 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-13 13:12:47.383 +02:00 [INF] Executed DbCommand (160ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-12-13 13:12:47.387 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-13 13:12:47.446 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-12-13 13:12:47.554 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-12-13 13:12:47.644 +02:00 [INF] Applying migration '20251213110121_AddDoctorCredentialFields'.
2025-12-13 13:12:48.727 +02:00 [INF] Executed DbCommand (892ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] ADD [BoardCertifications] nvarchar(max) NULL;
2025-12-13 13:12:48.751 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] ADD [EducationTraining] nvarchar(max) NULL;
2025-12-13 13:12:48.786 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] ADD [LicenseExpiryDate] datetime2 NULL;
2025-12-13 13:12:48.808 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] ADD [LicenseIssueDate] datetime2 NULL;
2025-12-13 13:12:48.849 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] ADD [LicenseState] nvarchar(100) NULL;
2025-12-13 13:12:48.851 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] ADD [NpiNumber] nvarchar(20) NULL;
2025-12-13 13:12:48.852 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Doctors] ADD [ProfessionalTitle] nvarchar(200) NULL;
2025-12-13 13:12:49.046 +02:00 [INF] Executed DbCommand (193ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251213110121_AddDoctorCredentialFields', N'8.0.20');
2025-12-13 13:31:20.241 +02:00 [INF] Executed DbCommand (1,115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 13:31:23.801 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 13:31:23.981 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T11:31:23.9763241Z"
2025-12-13 13:31:38.746 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 13:31:38.749 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 13:31:40.727 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 13:31:40.729 +02:00 [INF] Hosting environment: Development
2025-12-13 13:31:40.731 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 13:31:54.244 +02:00 [INF] Checking for reminders to send at "2025-12-13T11:31:54.2440821Z"
2025-12-13 13:32:02.341 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 13:32:03.032 +02:00 [INF] Executed DbCommand (2,518ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 13:32:03.047 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 13:32:33.517 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 32230.6845ms
2025-12-13 13:32:38.021 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 13:32:38.021 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 13:32:38.348 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 326.88ms
2025-12-13 13:32:40.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 2936.256ms
2025-12-13 13:32:43.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 13:32:44.782 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1064.1969ms
2025-12-13 13:56:01.628 +02:00 [INF] Executed DbCommand (453ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 13:56:05.331 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 13:56:05.503 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T11:56:05.4976596Z"
2025-12-13 13:56:11.901 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 13:56:11.905 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 13:56:12.949 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 13:56:12.950 +02:00 [INF] Hosting environment: Development
2025-12-13 13:56:12.952 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 13:56:28.895 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 13:56:32.474 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 3581.1075ms
2025-12-13 13:56:33.014 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 13:56:33.030 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 15.2959ms
2025-12-13 13:56:33.338 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 13:56:33.826 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 487.6683ms
2025-12-13 13:56:34.768 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 13:56:35.288 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 520.6296ms
2025-12-13 13:56:35.570 +02:00 [INF] Checking for reminders to send at "2025-12-13T11:56:35.5706081Z"
2025-12-13 13:56:37.710 +02:00 [INF] Executed DbCommand (696ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 13:56:37.720 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 13:57:01.182 +02:00 [INF] Application is shutting down...
2025-12-13 13:57:31.913 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 13:57:32.010 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 13:57:32.026 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T11:57:32.0235295Z"
2025-12-13 13:57:32.596 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 13:57:32.599 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 13:57:32.713 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 13:57:32.715 +02:00 [INF] Hosting environment: Development
2025-12-13 13:57:32.718 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 13:57:37.004 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 13:57:37.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 370.4801ms
2025-12-13 13:58:02.037 +02:00 [INF] Checking for reminders to send at "2025-12-13T11:58:02.0375742Z"
2025-12-13 13:58:02.349 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 13:58:02.357 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 14:03:57.910 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/register - null null
2025-12-13 14:03:58.014 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:03:58.053 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/register - 204 null null 142.6975ms
2025-12-13 14:03:58.120 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/register - application/json 442
2025-12-13 14:03:58.130 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:03:59.068 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 14:03:59.102 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 14:03:59.186 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Register(MediPredict.Data.ViewModels.UserRegistrationViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 14:03:59.606 +02:00 [INF] Starting registration for felix@gmail.com as Doctor
2025-12-13 14:03:59.792 +02:00 [INF] Executed DbCommand (171ms) [Parameters=[@__model_Role_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__model_Role_0
2025-12-13 14:03:59.979 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__model_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0
2025-12-13 14:03:59.992 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_LicenseNumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[LicenseNumber] = @__model_LicenseNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 14:04:00.502 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 4000), @p11='?' (Size = 20), @p12='?' (Size = 500), @p13='?' (DbType = Guid), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Address], [CreatedAt], [DateOfBirth], [Email], [FirstName], [Gender], [IsActive], [LastLoginAt], [LastName], [PasswordHash], [PhoneNumber], [ProfilePicture], [RoleId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-13 14:04:00.778 +02:00 [INF] Executed DbCommand (113ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (DbType = Time), @p3='?' (DbType = Time), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (Size = 50), @p14='?' (Size = 100), @p15='?' (Size = 20), @p16='?' (Size = 200), @p17='?' (Size = 4000), @p18='?' (Size = 100), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Doctors] ([Id], [AvailableDays], [AvailableTimeEnd], [AvailableTimeStart], [Bio], [BoardCertifications], [ConsultationFee], [CreatedAt], [EducationTraining], [Experience], [IsVerified], [LicenseExpiryDate], [LicenseIssueDate], [LicenseNumber], [LicenseState], [NpiNumber], [ProfessionalTitle], [Qualifications], [Specialization], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2025-12-13 14:04:00.825 +02:00 [INF] Registration successful for felix@gmail.com as Doctor
2025-12-13 14:04:00.880 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:04:00.918 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Register (MediPredict) in 1718.0629ms
2025-12-13 14:04:00.927 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 14:04:00.944 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 14:04:00.947 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/register - 200 null application/json; charset=utf-8 2827.2056ms
2025-12-13 14:04:00.951 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:04:00.968 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 23.2502ms
2025-12-13 14:04:00.975 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 14:04:00.988 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:04:01.012 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 14:04:01.016 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 14:04:01.051 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 14:04:01.069 +02:00 [INF] Login attempt for felix@gmail.com
2025-12-13 14:04:01.300 +02:00 [INF] Executed DbCommand (166ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 14:04:01.423 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 14:04:01.433 +02:00 [INF] Login successful for felix@gmail.com
2025-12-13 14:04:01.452 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 14:04:01.459 +02:00 [INF] Session created for user felix@gmail.com with ID "c34946c1-b7ec-43df-a9ce-ee2ef241854b"
2025-12-13 14:04:01.461 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:04:01.468 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 410.5756ms
2025-12-13 14:04:01.471 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 14:04:01.474 +02:00 [INF] Session started; Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c, Id:4dd4823c-0470-1001-368b-784726913eeb
2025-12-13 14:04:01.476 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 501.4196ms
2025-12-13 14:04:06.287 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b&role=doctor - null null
2025-12-13 14:04:06.293 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:04:06.295 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b&role=doctor - 204 null null 7.4913ms
2025-12-13 14:04:06.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b&role=doctor - application/json null
2025-12-13 14:04:06.310 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:04:06.661 +02:00 [INF] Executed DbCommand (298ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 14:04:06.823 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:04:06.885 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 14:04:07.017 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-13 14:04:07.266 +02:00 [INF] Executed DbCommand (236ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 14:04:07.850 +02:00 [INF] Executed DbCommand (335ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 14:04:07.936 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 14:04:07.942 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:04:07.957 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 1067.5872ms
2025-12-13 14:04:07.961 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:04:07.963 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b&role=doctor - 200 null application/json; charset=utf-8 1658.9834ms
2025-12-13 14:04:30.424 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - null null
2025-12-13 14:04:30.437 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - null null
2025-12-13 14:04:30.464 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:04:30.469 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:04:30.471 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - 204 null null 47.5053ms
2025-12-13 14:04:30.476 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - 204 null null 38.2475ms
2025-12-13 14:04:30.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - application/json null
2025-12-13 14:04:30.496 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:04:30.503 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:04:30.515 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:04:30.635 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:04:30.775 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:04:30.903 +02:00 [INF] Executed DbCommand (110ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:04:31.248 +02:00 [INF] Executed DbCommand (336ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:04:31.269 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:04:31.382 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 862.704ms
2025-12-13 14:04:31.385 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - application/json null
2025-12-13 14:04:31.386 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:04:31.391 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:04:31.394 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - 200 null application/json; charset=utf-8 913.4365ms
2025-12-13 14:04:31.403 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:04:31.407 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:04:31.424 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:04:31.440 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:04:31.449 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:04:31.458 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:04:31.468 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:04:31.472 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 58.5656ms
2025-12-13 14:04:31.478 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:04:31.481 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - 200 null application/json; charset=utf-8 96.0242ms
2025-12-13 14:06:44.861 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 14:06:44.869 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:06:44.872 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 10.6404ms
2025-12-13 14:06:44.877 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 14:06:44.888 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:06:44.892 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 14:06:44.897 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 14:06:44.907 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 14:06:44.913 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 8.127ms
2025-12-13 14:06:44.920 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 14:06:44.924 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 47.4881ms
2025-12-13 14:09:30.514 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 14:09:30.543 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:09:30.546 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 32.0074ms
2025-12-13 14:09:30.554 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 14:09:30.586 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:09:30.638 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 14:09:30.651 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 14:09:30.653 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 14:09:30.662 +02:00 [INF] Login attempt for felix@gmail.com
2025-12-13 14:09:30.672 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 14:09:30.745 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 14:09:30.752 +02:00 [INF] Login successful for felix@gmail.com
2025-12-13 14:09:30.757 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 14:09:30.763 +02:00 [INF] Session created for user felix@gmail.com with ID "c34946c1-b7ec-43df-a9ce-ee2ef241854b"
2025-12-13 14:09:30.766 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:09:30.770 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 112.4803ms
2025-12-13 14:09:30.774 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 14:09:30.777 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 223.2515ms
2025-12-13 14:09:31.176 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b&role=doctor - null null
2025-12-13 14:09:31.193 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:09:31.196 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b&role=doctor - 204 null null 19.8727ms
2025-12-13 14:09:31.200 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b&role=doctor - application/json null
2025-12-13 14:09:31.213 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:09:31.232 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 14:09:31.241 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:09:31.248 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 14:09:31.286 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 14:09:31.362 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 14:09:31.437 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 14:09:31.446 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:09:31.450 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 195.0203ms
2025-12-13 14:09:31.456 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:09:31.463 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b&role=doctor - 200 null application/json; charset=utf-8 263.5726ms
2025-12-13 14:09:34.796 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - null null
2025-12-13 14:09:34.796 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - null null
2025-12-13 14:09:34.803 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:09:34.812 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:09:34.815 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - 204 null null 19.0973ms
2025-12-13 14:09:34.820 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - application/json null
2025-12-13 14:09:34.822 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - 204 null null 26.693ms
2025-12-13 14:09:34.836 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:09:34.849 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:09:34.851 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:09:34.868 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:09:34.886 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:09:34.898 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:09:34.913 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:09:34.920 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:09:34.924 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 68.0845ms
2025-12-13 14:09:34.928 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - application/json null
2025-12-13 14:09:34.931 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:09:34.939 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - 200 null application/json; charset=utf-8 118.9616ms
2025-12-13 14:09:34.958 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:09:34.962 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:09:34.964 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:09:34.973 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:09:34.985 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:09:34.996 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:09:35.007 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:09:35.018 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:09:35.025 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 54.0056ms
2025-12-13 14:09:35.031 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:09:35.034 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - 200 null application/json; charset=utf-8 105.7876ms
2025-12-13 14:20:05.982 +02:00 [INF] Application is shutting down...
2025-12-13 14:23:03.553 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 14:23:03.754 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 14:23:03.775 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T12:23:03.7723055Z"
2025-12-13 14:23:04.110 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 14:23:04.209 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 14:23:04.384 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 14:23:04.385 +02:00 [INF] Hosting environment: Development
2025-12-13 14:23:04.389 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 14:23:08.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 14:23:09.567 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 1371.3896ms
2025-12-13 14:23:10.405 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 14:23:10.663 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 14:23:10.751 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 87.7257ms
2025-12-13 14:23:10.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 513.2063ms
2025-12-13 14:23:33.825 +02:00 [INF] Checking for reminders to send at "2025-12-13T12:23:33.8258391Z"
2025-12-13 14:23:34.716 +02:00 [INF] Executed DbCommand (384ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 14:23:34.728 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 14:25:00.537 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - null null
2025-12-13 14:25:00.727 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:25:00.733 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - 204 null null 196.1665ms
2025-12-13 14:25:00.850 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - application/json null
2025-12-13 14:25:00.855 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:25:01.500 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:25:01.614 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:25:02.366 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:25:03.015 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:25:03.033 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:25:03.125 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:25:03.223 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:25:03.528 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 1903.43ms
2025-12-13 14:25:03.532 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:25:03.542 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/c34946c1-b7ec-43df-a9ce-ee2ef241854b?userId=c34946c1-b7ec-43df-a9ce-ee2ef241854b - 200 null application/json; charset=utf-8 2692.3369ms
2025-12-13 14:25:17.543 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 14:25:17.549 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:25:17.551 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 8.4058ms
2025-12-13 14:25:17.555 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 14:25:17.564 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:25:17.571 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 14:25:17.576 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 14:25:17.583 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 14:25:17.587 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 6.7259ms
2025-12-13 14:25:17.591 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 14:25:17.593 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 38.3708ms
2025-12-13 14:30:24.124 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/register - null null
2025-12-13 14:30:24.128 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:30:24.130 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/register - 204 null null 6.2817ms
2025-12-13 14:30:24.193 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/register - application/json 747
2025-12-13 14:30:24.197 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:30:24.352 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 14:30:24.354 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 14:30:24.361 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Register(MediPredict.Data.ViewModels.UserRegistrationViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 14:30:25.181 +02:00 [INF] Starting registration for marie@gmail.com as Doctor
2025-12-13 14:30:25.255 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__model_Role_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__model_Role_0
2025-12-13 14:30:25.280 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0
2025-12-13 14:30:25.294 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_LicenseNumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[LicenseNumber] = @__model_LicenseNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 14:30:25.811 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 4000), @p11='?' (Size = 20), @p12='?' (Size = 500), @p13='?' (DbType = Guid), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Address], [CreatedAt], [DateOfBirth], [Email], [FirstName], [Gender], [IsActive], [LastLoginAt], [LastName], [PasswordHash], [PhoneNumber], [ProfilePicture], [RoleId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-13 14:30:26.043 +02:00 [INF] Executed DbCommand (164ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 100), @p2='?' (DbType = Time), @p3='?' (DbType = Time), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (Size = 50), @p14='?' (Size = 100), @p15='?' (Size = 20), @p16='?' (Size = 200), @p17='?' (Size = 4000), @p18='?' (Size = 100), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Doctors] ([Id], [AvailableDays], [AvailableTimeEnd], [AvailableTimeStart], [Bio], [BoardCertifications], [ConsultationFee], [CreatedAt], [EducationTraining], [Experience], [IsVerified], [LicenseExpiryDate], [LicenseIssueDate], [LicenseNumber], [LicenseState], [NpiNumber], [ProfessionalTitle], [Qualifications], [Specialization], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2025-12-13 14:30:26.287 +02:00 [INF] Registration successful for marie@gmail.com as Doctor
2025-12-13 14:30:26.302 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:30:26.314 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Register (MediPredict) in 1946.3735ms
2025-12-13 14:30:26.318 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Register (MediPredict)'
2025-12-13 14:30:26.321 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/register - 200 null application/json; charset=utf-8 2127.6496ms
2025-12-13 14:30:26.326 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 14:30:26.331 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:30:26.334 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 7.6316ms
2025-12-13 14:30:26.336 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 14:30:26.343 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:30:26.345 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 14:30:26.346 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 14:30:26.352 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 14:30:26.363 +02:00 [INF] Login attempt for marie@gmail.com
2025-12-13 14:30:26.412 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 14:30:26.467 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 14:30:26.477 +02:00 [INF] Login successful for marie@gmail.com
2025-12-13 14:30:26.509 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 14:30:26.516 +02:00 [INF] Session created for user marie@gmail.com with ID "169e5942-61b3-4e5c-a926-d390e75ec84a"
2025-12-13 14:30:26.519 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:30:26.524 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 167.3331ms
2025-12-13 14:30:26.526 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 14:30:26.528 +02:00 [INF] Session started; Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c, Id:97941a5b-1793-6bd2-71e5-3a14df1e50c3
2025-12-13 14:30:26.530 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 193.4534ms
2025-12-13 14:30:30.911 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 14:30:30.925 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:30:30.932 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 20.76ms
2025-12-13 14:30:30.939 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 14:30:30.968 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:30:31.055 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 14:30:31.132 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:30:31.138 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 14:30:31.220 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-13 14:30:31.242 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 14:30:31.530 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 14:30:32.656 +02:00 [INF] Executed DbCommand (1,026ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 14:30:32.662 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:30:32.672 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 1528.0145ms
2025-12-13 14:30:32.675 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:30:32.677 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 1737.5356ms
2025-12-13 14:30:38.243 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 14:30:38.245 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 14:30:38.269 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:30:38.274 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:30:38.277 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 34.3653ms
2025-12-13 14:30:38.282 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 37.2523ms
2025-12-13 14:30:38.288 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 14:30:38.310 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:30:38.313 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:30:38.316 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:30:38.336 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:30:38.348 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:30:38.357 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:30:38.365 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:30:38.371 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:30:38.374 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 52.074ms
2025-12-13 14:30:38.376 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 14:30:38.377 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:30:38.382 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:30:38.386 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 97.0139ms
2025-12-13 14:30:38.387 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:30:38.394 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:30:38.402 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:30:38.411 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:30:38.418 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:30:38.428 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:30:38.437 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:30:38.447 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 48.2298ms
2025-12-13 14:30:38.453 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:30:38.456 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 79.9225ms
2025-12-13 14:35:54.190 +02:00 [INF] Application is shutting down...
2025-12-13 14:37:14.384 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 14:37:14.573 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 14:37:14.591 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T12:37:14.5885908Z"
2025-12-13 14:37:15.215 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 14:37:15.218 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 14:37:15.357 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 14:37:15.359 +02:00 [INF] Hosting environment: Development
2025-12-13 14:37:15.362 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 14:37:16.850 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 14:37:17.180 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 331.9919ms
2025-12-13 14:37:17.905 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 14:37:17.905 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 14:37:17.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 11.6562ms
2025-12-13 14:37:17.948 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.7169ms
2025-12-13 14:37:18.029 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 14:37:18.263 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 234.6338ms
2025-12-13 14:37:44.614 +02:00 [INF] Checking for reminders to send at "2025-12-13T12:37:44.6139000Z"
2025-12-13 14:37:44.868 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 14:37:44.883 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 14:40:24.102 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 14:40:24.158 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:40:24.163 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 60.8334ms
2025-12-13 14:40:24.210 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 14:40:24.219 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:40:24.368 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 14:40:24.379 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 14:40:24.433 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 14:40:24.829 +02:00 [INF] Login attempt for marie@gmail.com
2025-12-13 14:40:25.045 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 14:40:25.736 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 14:40:25.763 +02:00 [INF] Login successful for marie@gmail.com
2025-12-13 14:40:25.778 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 14:40:25.786 +02:00 [INF] Session created for user marie@gmail.com with ID "169e5942-61b3-4e5c-a926-d390e75ec84a"
2025-12-13 14:40:25.797 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:40:25.819 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 1375.3461ms
2025-12-13 14:40:25.822 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 14:40:25.825 +02:00 [INF] Session started; Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c, Id:1de6035d-b3e4-4d6c-e19a-9b682488f8cb
2025-12-13 14:40:25.838 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 1628.3067ms
2025-12-13 14:40:29.457 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 14:40:29.493 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:40:29.497 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 39.8977ms
2025-12-13 14:40:29.510 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 14:40:29.526 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:40:29.686 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 14:40:29.709 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:40:29.819 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 14:40:29.921 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-13 14:40:29.961 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 14:40:30.199 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 14:40:30.327 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 14:40:30.335 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:40:30.363 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 536.1776ms
2025-12-13 14:40:30.372 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:40:30.375 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 865.5464ms
2025-12-13 14:40:34.743 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 14:40:34.745 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 14:40:34.780 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:40:34.794 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:40:34.798 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 54.8005ms
2025-12-13 14:40:34.805 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 14:40:34.807 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 61.5376ms
2025-12-13 14:40:34.838 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:40:34.859 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:40:34.874 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:40:34.962 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:40:35.150 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:40:35.172 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:40:35.190 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:40:35.286 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:40:35.559 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 671.7785ms
2025-12-13 14:40:35.561 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 14:40:35.565 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:40:35.576 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:40:35.580 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 775.4723ms
2025-12-13 14:40:35.618 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:40:35.621 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:40:35.661 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:40:35.688 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:40:35.704 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:40:35.722 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:40:35.734 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:40:35.747 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 112.6101ms
2025-12-13 14:40:35.760 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:40:35.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 202.2723ms
2025-12-13 14:48:35.488 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 14:48:35.498 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:48:35.502 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 13.2897ms
2025-12-13 14:48:35.521 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 14:48:35.533 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:48:35.623 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 14:48:35.643 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 14:48:35.653 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 14:48:35.666 +02:00 [INF] Login attempt for marie@gmail.com
2025-12-13 14:48:35.699 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 14:48:35.880 +02:00 [INF] Executed DbCommand (161ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 14:48:35.893 +02:00 [INF] Login successful for marie@gmail.com
2025-12-13 14:48:35.903 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 14:48:35.915 +02:00 [INF] Session created for user marie@gmail.com with ID "169e5942-61b3-4e5c-a926-d390e75ec84a"
2025-12-13 14:48:35.919 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:48:35.924 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 264.3216ms
2025-12-13 14:48:35.933 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 14:48:35.937 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 416.4012ms
2025-12-13 14:48:40.003 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 14:48:40.111 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:48:40.115 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 111.7868ms
2025-12-13 14:48:40.122 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 14:48:40.178 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:48:40.217 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 14:48:40.248 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:48:40.258 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 14:48:40.316 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 14:48:40.375 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 14:48:40.404 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 14:48:40.417 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:48:40.421 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 149.112ms
2025-12-13 14:48:40.425 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:48:40.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 311.4504ms
2025-12-13 14:48:43.499 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 14:48:43.509 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 14:48:43.554 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:48:43.561 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:48:43.563 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 64.3448ms
2025-12-13 14:48:43.566 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 59.124ms
2025-12-13 14:48:43.568 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 14:48:43.593 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:48:43.596 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:48:43.598 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:48:43.613 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:48:43.638 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:48:43.648 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:48:43.660 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:48:43.671 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:48:43.674 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 68.7686ms
2025-12-13 14:48:43.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 14:48:43.691 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:48:43.680 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:48:43.699 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:48:43.702 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 133.6435ms
2025-12-13 14:48:43.706 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:48:43.736 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:48:43.756 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:48:43.768 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:48:43.782 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:48:43.797 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:48:43.811 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 79.5573ms
2025-12-13 14:48:43.820 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:48:43.824 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 148.2755ms
2025-12-13 14:54:14.211 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 14:54:14.219 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:54:14.221 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 9.6623ms
2025-12-13 14:54:14.241 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 14:54:14.247 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:54:14.271 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 14:54:14.292 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:54:14.307 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 14:54:14.358 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 14:54:14.521 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 14:54:14.576 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 14:54:14.585 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:54:14.594 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 275.4894ms
2025-12-13 14:54:14.599 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:54:14.608 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 366.8716ms
2025-12-13 14:59:13.946 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 14:59:13.946 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 14:59:13.962 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:59:13.970 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 24.0587ms
2025-12-13 14:59:13.956 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:59:13.980 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 34.4511ms
2025-12-13 14:59:13.999 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 14:59:14.003 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 14:59:14.007 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:59:14.044 +02:00 [INF] CORS policy execution successful.
2025-12-13 14:59:14.047 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:59:14.049 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 14:59:14.080 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 14:59:14.100 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:59:14.106 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 14:59:14.143 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 14:59:14.343 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 14:59:14.387 +02:00 [INF] Executed DbCommand (200ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 14:59:14.389 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 14:59:14.468 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 14:59:14.479 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 14:59:14.490 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 14:59:14.494 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 434.1426ms
2025-12-13 14:59:14.499 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 14:59:14.506 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 502.404ms
2025-12-13 14:59:14.579 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 14:59:14.589 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 14:59:14.599 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 485.8772ms
2025-12-13 14:59:14.611 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 14:59:14.614 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 615.147ms
2025-12-13 15:02:18.413 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 15:02:18.419 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:18.421 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 7.6858ms
2025-12-13 15:02:18.427 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 15:02:18.444 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:18.600 +02:00 [INF] Executed DbCommand (148ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 15:02:18.609 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 15:02:18.615 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 15:02:18.622 +02:00 [INF] Login attempt for marie@gmail.com
2025-12-13 15:02:18.635 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 15:02:18.652 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 15:02:18.662 +02:00 [INF] Login successful for marie@gmail.com
2025-12-13 15:02:18.669 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 15:02:18.677 +02:00 [INF] Session created for user marie@gmail.com with ID "169e5942-61b3-4e5c-a926-d390e75ec84a"
2025-12-13 15:02:18.683 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:02:18.688 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 67.6467ms
2025-12-13 15:02:18.692 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 15:02:18.694 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 267.4607ms
2025-12-13 15:02:20.381 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 15:02:20.406 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:02:20.446 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:20.454 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 47.4383ms
2025-12-13 15:02:20.417 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:02:20.436 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:20.509 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:20.510 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:02:20.525 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:20.516 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 98.7392ms
2025-12-13 15:02:20.521 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 15:02:20.512 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 130.4554ms
2025-12-13 15:02:20.529 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:02:20.562 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:20.579 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:02:20.588 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 15:02:20.604 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:02:20.612 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:02:20.630 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 15:02:20.640 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:02:20.660 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:02:20.688 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:02:20.703 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 15:02:20.713 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:02:20.757 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 163.5945ms
2025-12-13 15:02:20.761 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:02:20.770 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:02:20.785 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 15:02:20.781 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:20.819 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:02:20.785 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 275.8346ms
2025-12-13 15:02:20.824 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:02:20.870 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 15:02:20.891 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:02:20.902 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 259.4616ms
2025-12-13 15:02:20.912 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:02:20.921 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 399.3035ms
2025-12-13 15:02:21.052 +02:00 [INF] Executed DbCommand (201ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:02:21.068 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:02:21.085 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:02:21.103 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:02:21.113 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:02:21.132 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 285.6555ms
2025-12-13 15:02:21.139 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:02:21.144 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 382.238ms
2025-12-13 15:02:30.719 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:02:30.774 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:02:30.803 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:30.813 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:30.817 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 95.6825ms
2025-12-13 15:02:30.822 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 47.9911ms
2025-12-13 15:02:30.824 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:02:30.862 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:30.870 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:02:30.874 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:02:30.894 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:02:30.922 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:02:30.938 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:02:30.954 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:02:30.971 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:02:30.978 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 88.3081ms
2025-12-13 15:02:30.980 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:02:30.987 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:02:31.004 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 181.1943ms
2025-12-13 15:02:31.004 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:02:31.025 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:02:31.028 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:02:31.043 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:02:31.062 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:02:31.078 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:02:31.101 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:02:31.112 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:02:31.122 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 81.4566ms
2025-12-13 15:02:31.131 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:02:31.143 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 162.4447ms
2025-12-13 15:04:27.416 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 15:04:27.421 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:04:27.422 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:04:27.446 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:04:27.436 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:04:27.430 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:04:27.454 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 37.7687ms
2025-12-13 15:04:27.450 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 29.3241ms
2025-12-13 15:04:27.448 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 26.1362ms
2025-12-13 15:04:27.459 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:04:27.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 15:04:27.508 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:04:27.515 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:04:27.525 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:04:27.531 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:04:27.565 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 15:04:27.566 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:04:27.593 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:04:27.622 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 15:04:27.648 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:04:27.650 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 15:04:27.683 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:04:27.743 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:04:27.757 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:04:27.765 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 15:04:27.767 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 222.3794ms
2025-12-13 15:04:28.020 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:04:27.773 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:04:28.022 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 562.9291ms
2025-12-13 15:04:28.066 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 15:04:28.087 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:04:28.108 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:04:28.116 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:04:28.121 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 483.0464ms
2025-12-13 15:04:28.124 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:04:28.128 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:04:28.142 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 677.7885ms
2025-12-13 15:04:28.154 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:04:28.255 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:04:28.265 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:04:28.279 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:04:28.288 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:04:28.292 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 153.5028ms
2025-12-13 15:04:28.297 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:04:28.299 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 526.4477ms
2025-12-13 15:04:30.743 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:04:30.775 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:04:30.782 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:04:30.789 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:04:30.815 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:04:30.847 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:04:30.872 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:04:30.900 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:04:30.922 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:04:30.927 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 127.2238ms
2025-12-13 15:04:30.932 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:04:30.941 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:04:30.954 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:04:30.960 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 217.3496ms
2025-12-13 15:04:30.965 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:04:30.982 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:04:31.015 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:04:31.060 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:04:31.076 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:04:31.090 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:04:31.100 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:04:31.106 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 109.632ms
2025-12-13 15:04:31.111 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:04:31.119 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 187.6888ms
2025-12-13 15:05:50.754 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:05:50.761 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:05:50.764 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 9.4397ms
2025-12-13 15:05:50.767 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json 126
2025-12-13 15:05:50.784 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:05:50.787 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 15:05:50.796 +02:00 [INF] Route matched with {action = "UpdateDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] UpdateDoctorProfile(System.String, MediPredict.Data.ViewModels.DoctorEditViewModel) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:05:50.854 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:05:51.434 +02:00 [INF] Executed DbCommand (210ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (Size = 100), @p1='?' (DbType = Time), @p2='?' (DbType = Time), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 100), @p8='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p10='?' (Size = 500), @p11='?' (Size = 50), @p12='?' (Size = 50), @p13='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Doctors] SET [AvailableDays] = @p0, [AvailableTimeEnd] = @p1, [AvailableTimeStart] = @p2, [Bio] = @p3, [ConsultationFee] = @p4, [Experience] = @p5, [Qualifications] = @p6, [Specialization] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [Id] = @p9;
UPDATE [Users] SET [Address] = @p10, [FirstName] = @p11, [LastName] = @p12, [PhoneNumber] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-12-13 15:05:51.472 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:05:51.476 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict) in 672.7415ms
2025-12-13 15:05:51.479 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 15:05:51.481 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 713.9146ms
2025-12-13 15:05:51.487 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:05:51.501 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:05:51.504 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:05:51.506 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:05:51.517 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:05:51.542 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:05:51.553 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:05:51.563 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:05:51.627 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:05:51.631 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 116.2875ms
2025-12-13 15:05:51.637 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:05:51.643 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 155.8472ms
2025-12-13 15:07:44.895 +02:00 [INF] Checking for reminders to send at "2025-12-13T13:07:44.8951321Z"
2025-12-13 15:07:44.915 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 15:07:44.933 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 15:08:13.995 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:08:13.996 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:08:14.061 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:14.074 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:14.076 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 80.7032ms
2025-12-13 15:08:14.083 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 87.2334ms
2025-12-13 15:08:14.083 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:08:14.128 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:14.133 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:14.136 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:08:14.167 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:08:14.234 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:08:14.248 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:14.260 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:14.269 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:08:14.275 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 123.6971ms
2025-12-13 15:08:14.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:08:14.282 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:14.289 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:14.294 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 210.3687ms
2025-12-13 15:08:14.297 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:14.310 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:08:14.319 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:08:14.334 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:08:14.366 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:14.379 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:14.394 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:08:14.477 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 158.381ms
2025-12-13 15:08:14.497 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:14.501 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 221.054ms
2025-12-13 15:08:22.208 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 15:08:22.214 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:22.216 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 7.3966ms
2025-12-13 15:08:22.218 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 15:08:22.232 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:22.235 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 15:08:22.245 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 15:08:22.251 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 15:08:22.255 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 5.5991ms
2025-12-13 15:08:22.261 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 15:08:22.264 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 45.7565ms
2025-12-13 15:08:31.631 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 15:08:31.639 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:31.643 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 12.6089ms
2025-12-13 15:08:31.650 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 15:08:31.673 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:31.695 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 15:08:31.714 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 15:08:31.717 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 15:08:31.727 +02:00 [INF] Login attempt for marie@gmail.com
2025-12-13 15:08:31.737 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 15:08:31.782 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 15:08:31.789 +02:00 [INF] Login successful for marie@gmail.com
2025-12-13 15:08:31.796 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 15:08:31.811 +02:00 [INF] Session created for user marie@gmail.com with ID "169e5942-61b3-4e5c-a926-d390e75ec84a"
2025-12-13 15:08:31.818 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:08:31.826 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 100.3219ms
2025-12-13 15:08:31.832 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 15:08:31.835 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 185.1048ms
2025-12-13 15:08:32.057 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 15:08:32.059 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:08:32.063 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:08:32.071 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:32.099 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 42.2425ms
2025-12-13 15:08:32.082 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:32.111 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 52.7317ms
2025-12-13 15:08:32.108 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 15:08:32.100 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:32.131 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 68.3788ms
2025-12-13 15:08:32.129 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:32.133 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:08:32.150 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:32.152 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:32.157 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:08:32.162 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 15:08:32.172 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:08:32.178 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:08:32.191 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 15:08:32.198 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:08:32.201 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 15:08:32.211 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:32.243 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:32.253 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 15:08:32.259 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:08:32.290 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 125.9297ms
2025-12-13 15:08:32.299 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:32.303 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 170.4327ms
2025-12-13 15:08:32.320 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 15:08:32.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:08:32.420 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:32.406 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:08:32.426 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:32.449 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:08:32.442 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 244.7287ms
2025-12-13 15:08:32.471 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:08:32.481 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 372.7393ms
2025-12-13 15:08:32.717 +02:00 [INF] Executed DbCommand (251ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:08:32.872 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:08:32.897 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:32.906 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:32.917 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:08:32.929 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 464.1702ms
2025-12-13 15:08:32.932 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:32.934 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 600.1296ms
2025-12-13 15:08:35.333 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:08:35.382 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:35.386 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:35.391 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:08:35.415 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:08:35.438 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:08:35.449 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:35.464 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:35.474 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:08:35.481 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 79.3396ms
2025-12-13 15:08:35.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:08:35.488 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:35.500 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:08:35.505 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 172.2478ms
2025-12-13 15:08:35.511 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:35.530 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:08:35.544 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:08:35.564 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:08:35.580 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:35.599 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:08:35.657 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:08:35.685 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 144.7797ms
2025-12-13 15:08:35.733 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:08:35.737 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 253.7651ms
2025-12-13 15:17:15.194 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:17:15.203 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:17:15.206 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 11.8684ms
2025-12-13 15:17:15.209 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:17:15.218 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:17:15.220 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:17:15.224 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:17:15.243 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:17:15.258 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:17:15.265 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:17:15.274 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:17:15.280 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:17:15.285 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 55.3557ms
2025-12-13 15:17:15.288 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:17:15.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 80.7601ms
2025-12-13 15:22:09.317 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 15:22:09.325 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:22:09.329 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 12.5448ms
2025-12-13 15:22:09.336 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 15:22:09.357 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:22:09.389 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 15:22:09.425 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 15:22:09.432 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 15:22:09.439 +02:00 [INF] Login attempt for marie@gmail.com
2025-12-13 15:22:09.456 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 15:22:09.484 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 15:22:09.496 +02:00 [INF] Login successful for marie@gmail.com
2025-12-13 15:22:09.501 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 15:22:09.513 +02:00 [INF] Session created for user marie@gmail.com with ID "169e5942-61b3-4e5c-a926-d390e75ec84a"
2025-12-13 15:22:09.516 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:22:09.520 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 81.9287ms
2025-12-13 15:22:09.528 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 15:22:09.531 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 195.6626ms
2025-12-13 15:22:13.166 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 15:22:13.181 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:22:13.186 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:22:13.259 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:22:13.272 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:22:13.342 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 160.991ms
2025-12-13 15:22:13.292 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 125.7195ms
2025-12-13 15:22:13.287 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:22:13.586 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 400.4638ms
2025-12-13 15:22:13.492 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:22:13.393 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 15:22:13.608 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:22:13.618 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:22:13.622 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:22:13.629 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:22:13.736 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 15:22:13.757 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:22:13.764 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 15:22:13.776 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 15:22:13.795 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:22:13.835 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:22:13.852 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 15:22:13.856 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:22:13.952 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:22:13.964 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 15:22:13.975 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:22:13.986 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:22:13.995 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 339.045ms
2025-12-13 15:22:14.001 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 227.5897ms
2025-12-13 15:22:14.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:22:14.015 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:22:14.023 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:22:14.035 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:22:14.039 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 547.2605ms
2025-12-13 15:22:14.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 651.3364ms
2025-12-13 15:22:14.049 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:22:14.086 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:22:14.134 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:22:14.520 +02:00 [INF] Executed DbCommand (157ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:22:14.554 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:22:14.576 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:22:14.586 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:22:14.596 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 496.6662ms
2025-12-13 15:22:14.605 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:22:14.610 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 598.5405ms
2025-12-13 15:23:24.899 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:23:24.909 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:23:24.913 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 13.7375ms
2025-12-13 15:23:24.917 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:23:24.938 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:23:24.946 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:23:24.949 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:23:25.004 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:23:25.047 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:23:25.067 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:23:25.095 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:23:25.110 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:23:25.116 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 152.4807ms
2025-12-13 15:23:25.128 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:23:25.133 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 216.2973ms
2025-12-13 15:25:05.970 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 15:25:05.978 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:05.981 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 10.3766ms
2025-12-13 15:25:05.987 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 15:25:06.004 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:06.029 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 15:25:06.047 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 15:25:06.050 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 15:25:06.063 +02:00 [INF] Login attempt for marie@gmail.com
2025-12-13 15:25:06.080 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 15:25:06.108 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 15:25:06.117 +02:00 [INF] Login successful for marie@gmail.com
2025-12-13 15:25:06.131 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 15:25:06.147 +02:00 [INF] Session created for user marie@gmail.com with ID "169e5942-61b3-4e5c-a926-d390e75ec84a"
2025-12-13 15:25:06.162 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:25:06.177 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 114.395ms
2025-12-13 15:25:06.191 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 15:25:06.198 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 210.3039ms
2025-12-13 15:25:08.814 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 15:25:08.814 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:25:08.847 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:08.854 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 39.1245ms
2025-12-13 15:25:08.821 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:25:08.841 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:08.885 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:25:08.983 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:08.995 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 181.1658ms
2025-12-13 15:25:08.999 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 15:25:09.042 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:09.015 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 194.0788ms
2025-12-13 15:25:09.013 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:09.067 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:25:09.070 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:25:09.093 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 15:25:09.119 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:25:09.124 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 15:25:09.132 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:25:09.168 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 15:25:09.192 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:25:09.255 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:25:09.277 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:25:09.288 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:25:09.300 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 215.2379ms
2025-12-13 15:25:09.302 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:25:09.392 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:09.381 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:25:09.414 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:25:09.416 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 530.3172ms
2025-12-13 15:25:09.422 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:25:09.544 +02:00 [INF] Executed DbCommand (325ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 15:25:09.544 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:25:09.620 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:25:09.652 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:25:09.658 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 15:25:09.669 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:25:09.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:25:09.686 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:25:09.695 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 558.3043ms
2025-12-13 15:25:09.701 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 256.7417ms
2025-12-13 15:25:09.706 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:25:09.714 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:25:09.718 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 718.7603ms
2025-12-13 15:25:09.726 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 423.1876ms
2025-12-13 15:25:15.728 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:25:15.751 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:25:15.858 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:15.838 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:15.866 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 114.1814ms
2025-12-13 15:25:15.869 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 141.2439ms
2025-12-13 15:25:15.870 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:25:15.923 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:15.977 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:25:15.980 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:25:16.004 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:25:16.052 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:25:16.102 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:25:16.131 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:25:16.148 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:25:16.158 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 165.7155ms
2025-12-13 15:25:16.178 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:25:16.194 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:25:16.205 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:25:16.211 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 341.0862ms
2025-12-13 15:25:16.218 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:25:16.234 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:25:16.269 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:25:16.326 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:25:16.346 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:25:16.368 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:25:16.380 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:25:16.392 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 140.6924ms
2025-12-13 15:25:16.416 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:25:16.428 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 250.1732ms
2025-12-13 15:30:40.424 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 15:30:40.586 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:30:40.590 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 166.6306ms
2025-12-13 15:30:40.595 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 15:30:40.611 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:30:40.655 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 15:30:40.659 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 15:30:40.666 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 15:30:40.670 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 4.3151ms
2025-12-13 15:30:40.675 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 15:30:40.683 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 88.2347ms
2025-12-13 15:34:15.689 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 15:34:15.732 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:34:15.736 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 47.0601ms
2025-12-13 15:34:15.743 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 15:34:15.760 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:34:15.851 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 15:34:15.875 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 15:34:15.878 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 15:34:15.893 +02:00 [INF] Login attempt for marie@gmail.com
2025-12-13 15:34:15.935 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 15:34:15.972 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 15:34:15.986 +02:00 [INF] Login successful for marie@gmail.com
2025-12-13 15:34:16.006 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 15:34:16.052 +02:00 [INF] Session created for user marie@gmail.com with ID "169e5942-61b3-4e5c-a926-d390e75ec84a"
2025-12-13 15:34:16.056 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:34:16.061 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 168.4451ms
2025-12-13 15:34:16.068 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 15:34:16.072 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 328.9357ms
2025-12-13 15:34:16.431 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 15:34:16.433 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:34:16.433 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:34:16.447 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:34:16.458 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:34:16.470 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:34:16.485 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 52.3536ms
2025-12-13 15:34:16.481 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 47.998ms
2025-12-13 15:34:16.485 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 15:34:16.531 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:34:16.491 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:34:16.474 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 43.0978ms
2025-12-13 15:34:16.571 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:34:16.608 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:34:16.611 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:34:16.626 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 15:34:16.658 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:34:16.679 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:34:16.704 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 15:34:16.754 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 15:34:16.760 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:34:16.828 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:34:16.858 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:34:16.868 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 15:34:16.902 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:34:16.908 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 282.3191ms
2025-12-13 15:34:16.912 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:34:16.931 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:34:16.918 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:34:16.917 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 15:34:16.939 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 447.3541ms
2025-12-13 15:34:16.957 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:34:16.968 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:34:16.983 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 245.3881ms
2025-12-13 15:34:16.987 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:34:16.996 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:34:17.015 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 530.2966ms
2025-12-13 15:34:17.082 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:34:17.326 +02:00 [INF] Executed DbCommand (209ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:34:17.339 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:34:17.357 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:34:17.369 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:34:17.378 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 369.0069ms
2025-12-13 15:34:17.400 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:34:17.411 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 499.041ms
2025-12-13 15:34:19.384 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:34:19.395 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:34:19.408 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:34:19.418 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:34:19.460 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:34:19.499 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:34:19.517 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:34:19.544 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:34:19.562 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:34:19.574 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 136.0218ms
2025-12-13 15:34:19.586 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:34:19.590 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 206.2307ms
2025-12-13 15:34:19.607 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:34:19.629 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:34:19.636 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:34:19.644 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:34:19.710 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:34:19.745 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:34:19.761 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:34:19.786 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:34:19.802 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:34:19.809 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 147.949ms
2025-12-13 15:34:19.843 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:34:19.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 272.3215ms
2025-12-13 15:36:04.112 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:36:04.122 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:36:04.125 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 12.738ms
2025-12-13 15:36:04.129 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json 338
2025-12-13 15:36:04.156 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:36:04.165 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 15:36:04.174 +02:00 [INF] Route matched with {action = "UpdateDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] UpdateDoctorProfile(System.String, MediPredict.Data.ViewModels.DoctorEditViewModel) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:36:04.357 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:36:04.496 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p10='?' (DbType = Guid), @p7='?' (Size = 50), @p8='?' (Size = 50), @p9='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Doctors] SET [Bio] = @p0, [ConsultationFee] = @p1, [Experience] = @p2, [Qualifications] = @p3, [Specialization] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
UPDATE [Users] SET [FirstName] = @p7, [LastName] = @p8, [PhoneNumber] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-12-13 15:36:04.568 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:36:04.573 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict) in 383.8393ms
2025-12-13 15:36:04.578 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 15:36:04.587 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 457.4876ms
2025-12-13 15:36:04.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:36:04.611 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:36:04.619 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:36:04.624 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:36:04.645 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:36:04.700 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:36:04.718 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:36:04.743 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:36:04.767 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:36:04.778 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 141.5195ms
2025-12-13 15:36:04.790 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:36:04.794 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 191.7541ms
2025-12-13 15:37:15.944 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:37:15.952 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:37:15.965 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 21.0981ms
2025-12-13 15:37:15.973 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json 349
2025-12-13 15:37:15.989 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:37:15.993 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 15:37:15.996 +02:00 [INF] Route matched with {action = "UpdateDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] UpdateDoctorProfile(System.String, MediPredict.Data.ViewModels.DoctorEditViewModel) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:37:16.029 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:37:16.102 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 100), @p1='?' (DbType = Time), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [AvailableDays] = @p0, [AvailableTimeStart] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-13 15:37:16.117 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:37:16.124 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict) in 114.5994ms
2025-12-13 15:37:16.138 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 15:37:16.148 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 174.9466ms
2025-12-13 15:37:16.153 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:37:16.187 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:37:16.245 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:37:16.249 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:37:16.280 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:37:16.306 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:37:16.320 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:37:16.337 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:37:16.350 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:37:16.357 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 95.0387ms
2025-12-13 15:37:16.364 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:37:16.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 218.8701ms
2025-12-13 15:37:44.944 +02:00 [INF] Checking for reminders to send at "2025-12-13T13:37:44.9447009Z"
2025-12-13 15:37:45.012 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 15:37:45.050 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 15:40:09.411 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:40:09.613 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:40:09.616 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 204.9901ms
2025-12-13 15:40:09.620 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:40:09.645 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:40:09.649 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:40:09.653 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:40:09.709 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:40:09.841 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:40:09.880 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:40:09.913 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:40:09.925 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:40:09.935 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 269.6257ms
2025-12-13 15:40:09.947 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:40:09.951 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 330.7412ms
2025-12-13 15:44:13.717 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:44:13.873 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:44:13.883 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 165.1879ms
2025-12-13 15:44:13.902 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:44:14.004 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:44:14.136 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:44:14.142 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:44:14.175 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:44:14.208 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:44:14.234 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:44:14.253 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:44:14.267 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:44:14.291 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 136.1692ms
2025-12-13 15:44:14.303 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:44:14.307 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 404.9421ms
2025-12-13 15:48:51.367 +02:00 [INF] Application is shutting down...
2025-12-13 15:51:42.122 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 15:51:42.566 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 15:51:42.636 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T13:51:42.6310571Z"
2025-12-13 15:51:44.104 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 15:51:44.108 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 15:51:44.441 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 15:51:44.444 +02:00 [INF] Hosting environment: Development
2025-12-13 15:51:44.446 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 15:51:48.663 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 15:51:51.139 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 2490.8162ms
2025-12-13 15:52:12.673 +02:00 [INF] Checking for reminders to send at "2025-12-13T13:52:12.6735922Z"
2025-12-13 15:52:13.437 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 15:52:13.453 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 15:54:39.168 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 15:54:39.168 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:54:39.173 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:54:39.278 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:39.284 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:39.299 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:39.352 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 183.29ms
2025-12-13 15:54:39.352 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 183.8894ms
2025-12-13 15:54:39.352 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 179.6778ms
2025-12-13 15:54:39.386 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:54:39.405 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 15:54:39.411 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:39.423 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:39.760 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 15:54:39.789 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:54:39.790 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:54:39.870 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:54:39.870 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 15:54:39.915 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 15:54:39.928 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:54:39.957 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 52.5438ms
2025-12-13 15:54:39.962 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:54:39.972 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 401 null application/json; charset=utf-8 567.3441ms
2025-12-13 15:54:40.202 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:54:40.673 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:54:40.698 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:54:40.720 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:54:41.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 15:54:41.011 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:41.070 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 15:54:41.073 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:54:41.077 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 15:54:41.085 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 15:54:41.135 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:54:41.142 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 56.481ms
2025-12-13 15:54:41.148 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:54:41.158 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 401 null application/json; charset=utf-8 155.8092ms
2025-12-13 15:54:41.167 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:54:41.306 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 1407.0493ms
2025-12-13 15:54:41.312 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:54:41.321 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 1935.471ms
2025-12-13 15:54:41.377 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:54:41.389 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:41.394 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:54:41.404 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:54:41.443 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:54:41.472 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:54:41.486 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:54:41.510 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:54:41.526 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:54:41.532 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 120.5022ms
2025-12-13 15:54:41.542 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:54:41.546 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 168.6162ms
2025-12-13 15:54:43.152 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 15:54:43.162 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:43.166 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 15:54:43.169 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:54:43.173 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 15:54:43.185 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 15:54:43.189 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:54:43.197 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 12.5652ms
2025-12-13 15:54:43.204 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:54:43.211 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 401 null application/json; charset=utf-8 58.8866ms
2025-12-13 15:54:47.213 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 15:54:47.225 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:47.229 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 15.8269ms
2025-12-13 15:54:47.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 15:54:47.250 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:47.253 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 15:54:47.258 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:54:47.262 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 15:54:47.276 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 15:54:47.280 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:54:47.287 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 10.4531ms
2025-12-13 15:54:47.293 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 15:54:47.296 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 401 null application/json; charset=utf-8 63.3218ms
2025-12-13 15:54:58.263 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:54:58.265 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:54:58.282 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:58.294 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:58.297 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 34.0758ms
2025-12-13 15:54:58.303 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 38.5546ms
2025-12-13 15:54:58.310 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:54:58.345 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:58.353 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:54:58.357 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:54:58.388 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:54:58.427 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:54:58.451 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:54:58.471 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:54:58.483 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:54:58.493 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 123.245ms
2025-12-13 15:54:58.496 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:54:58.502 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:54:58.512 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:54:58.518 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 208.6534ms
2025-12-13 15:54:58.522 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:54:58.541 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:54:58.581 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:54:58.663 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:54:58.682 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:54:58.710 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:54:58.724 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:54:58.734 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 180.5125ms
2025-12-13 15:54:58.740 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:54:58.746 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 250.3342ms
2025-12-13 15:55:55.065 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 15:55:55.073 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:55:55.078 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 13.0776ms
2025-12-13 15:55:55.120 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json 613
2025-12-13 15:55:55.130 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:55:55.134 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 15:55:55.201 +02:00 [INF] Route matched with {action = "UpdateDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] UpdateDoctorProfile(System.String, MediPredict.Data.ViewModels.DoctorEditViewModel) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:55:55.378 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:55:56.067 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [BoardCertifications] = @p0, [EducationTraining] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-13 15:55:56.109 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:55:56.119 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict) in 904.1412ms
2025-12-13 15:55:56.125 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 15:55:56.132 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 1010.6073ms
2025-12-13 15:55:56.137 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 15:55:56.161 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:55:56.166 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:55:56.170 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:55:56.197 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 15:55:56.232 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 15:55:56.252 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 15:55:56.266 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 15:55:56.275 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:55:56.298 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 115.5396ms
2025-12-13 15:55:56.304 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 15:55:56.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 170.8763ms
2025-12-13 15:58:43.102 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Profile/picture/undefined?role=Doctor - multipart/form-data; boundary=----WebKitFormBoundaryMfwsDBYDs4BDWndH 1341802
2025-12-13 15:58:43.114 +02:00 [INF] CORS policy execution successful.
2025-12-13 15:58:43.118 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict)'
2025-12-13 15:58:43.280 +02:00 [INF] Route matched with {action = "UploadProfilePicture", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.String]]] UploadProfilePicture(System.String, System.String, Microsoft.AspNetCore.Http.IFormFile) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 15:58:44.174 +02:00 [ERR] Error uploading profile picture for user undefined
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(ParseFailure failureKind)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at MediPredict.Controllers.Api.ProfileController.UploadProfilePicture(String userId, String role, IFormFile picture) in C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict\Controllers\Api\ProfileController.cs:line 364
2025-12-13 15:58:51.663 +02:00 [INF] Executing ObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:58:51.671 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict) in 8381.1014ms
2025-12-13 15:58:51.678 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict)'
2025-12-13 15:58:51.684 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Profile/picture/undefined?role=Doctor - 500 null application/json; charset=utf-8 8582.0789ms
2025-12-13 16:06:40.532 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 16:06:40.542 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:06:40.545 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 12.4252ms
2025-12-13 16:06:40.548 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 16:06:40.569 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:06:40.574 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 16:06:40.580 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 16:06:40.593 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 16:06:40.603 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 11.3411ms
2025-12-13 16:06:40.608 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 16:06:40.611 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 63.3406ms
2025-12-13 16:06:59.947 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 16:06:59.955 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:06:59.959 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 11.8708ms
2025-12-13 16:06:59.966 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 53
2025-12-13 16:06:59.982 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:06:59.991 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:06:59.995 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 16:07:00.011 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 16:07:00.092 +02:00 [INF] Login attempt for marie@gmail.com
2025-12-13 16:07:00.268 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 16:07:00.471 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 16:07:00.489 +02:00 [INF] Login successful for marie@gmail.com
2025-12-13 16:07:00.516 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 16:07:00.530 +02:00 [INF] Session created for user marie@gmail.com with ID "169e5942-61b3-4e5c-a926-d390e75ec84a"
2025-12-13 16:07:00.558 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 16:07:00.570 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 552.1387ms
2025-12-13 16:07:00.576 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 16:07:00.581 +02:00 [INF] Session started; Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c, Id:a7c6d977-56b0-eb34-5745-7142b19b1ced
2025-12-13 16:07:00.587 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 621.2087ms
2025-12-13 16:07:04.232 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 16:07:04.232 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:07:04.262 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:07:04.249 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:07:04.276 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 43.7986ms
2025-12-13 16:07:04.270 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 37.5582ms
2025-12-13 16:07:04.234 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:07:04.371 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:07:04.392 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 158.1695ms
2025-12-13 16:07:04.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 16:07:04.306 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:07:04.426 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:07:04.463 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:07:04.467 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:07:04.476 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:07:04.513 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:07:04.547 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:07:04.566 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:07:04.575 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:07:04.588 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:07:04.601 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 16:07:04.614 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:07:04.617 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 16:07:04.628 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 137.8577ms
2025-12-13 16:07:04.631 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:07:04.649 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:07:04.663 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:07:04.672 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 365.1802ms
2025-12-13 16:07:04.676 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:07:04.699 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:07:04.760 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:07:04.809 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:07:04.814 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-13 16:07:04.834 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:07:04.876 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 16:07:04.877 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:07:04.936 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:07:04.945 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 234.232ms
2025-12-13 16:07:04.949 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:07:04.952 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 321.6524ms
2025-12-13 16:07:05.198 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 16:07:05.554 +02:00 [INF] Executed DbCommand (303ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 16:07:05.566 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 16:07:05.580 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 936.0921ms
2025-12-13 16:07:05.588 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 16:07:05.592 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 1305.9363ms
2025-12-13 16:11:08.015 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 16:11:08.015 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:11:08.038 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:11:08.030 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:11:08.016 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:11:08.062 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:11:08.049 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 34.5194ms
2025-12-13 16:11:08.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:11:08.047 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 31.4072ms
2025-12-13 16:11:08.065 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 49.5608ms
2025-12-13 16:11:08.094 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 16:11:08.105 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:11:08.205 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:11:08.216 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:11:08.221 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:11:08.256 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:11:08.258 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:11:08.297 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 16:11:08.298 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:11:08.303 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 16:11:08.322 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:11:08.337 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 16:11:08.351 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:11:08.387 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:11:08.398 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 163.2293ms
2025-12-13 16:11:08.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:11:08.404 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:11:08.416 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:11:08.420 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 361.8262ms
2025-12-13 16:11:08.427 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:11:08.472 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 16:11:08.487 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:11:08.566 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 16:11:08.567 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:11:08.579 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 16:11:08.606 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 277.7953ms
2025-12-13 16:11:08.614 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 16:11:08.619 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 525.1813ms
2025-12-13 16:11:08.630 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:11:08.654 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:11:08.687 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:11:08.748 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:11:08.754 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 230.7297ms
2025-12-13 16:11:08.771 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:11:08.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 391.2471ms
2025-12-13 16:14:41.556 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 16:14:41.557 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:14:41.558 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:14:41.570 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:14:41.603 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 46.5192ms
2025-12-13 16:14:41.594 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:14:41.626 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 67.89ms
2025-12-13 16:14:41.624 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 16:14:41.586 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:14:41.690 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 133.0258ms
2025-12-13 16:14:41.679 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:14:41.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:14:41.734 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:14:41.769 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:14:41.780 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:14:41.799 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 16:14:41.822 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:14:41.825 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 16:14:41.834 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:14:41.856 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 16:14:41.883 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:14:42.011 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:14:42.036 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 16:14:42.055 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:14:42.106 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:14:42.117 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 16:14:42.126 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:14:42.141 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 16:14:42.149 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 287.8818ms
2025-12-13 16:14:42.157 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 309.1294ms
2025-12-13 16:14:42.163 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:14:42.174 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 16:14:42.186 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 562.1264ms
2025-12-13 16:14:42.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 539.6405ms
2025-12-13 16:14:42.194 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:14:42.220 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:14:42.808 +02:00 [INF] Executed DbCommand (582ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:14:42.830 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:14:42.834 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:14:42.868 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:14:42.970 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:14:42.991 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:14:43.070 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:14:43.108 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:14:43.121 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 274.5427ms
2025-12-13 16:14:43.131 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:14:43.137 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 942.9944ms
2025-12-13 16:18:29.958 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - null null
2025-12-13 16:18:29.960 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:18:30.001 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:18:29.977 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:18:29.961 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:18:30.063 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 102.7805ms
2025-12-13 16:18:30.065 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 204 null null 106.8103ms
2025-12-13 16:18:30.079 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:18:30.118 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 157.5362ms
2025-12-13 16:18:30.128 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:18:30.129 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - application/json null
2025-12-13 16:18:30.148 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:18:30.158 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:18:30.209 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:18:30.219 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:18:30.229 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 16:18:30.248 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:18:30.256 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 16:18:30.260 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:18:30.278 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 16:18:30.304 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:18:30.389 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 16:18:30.394 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:18:30.446 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:18:30.457 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 16:18:30.492 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:18:30.496 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 16:18:30.509 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:18:30.518 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 243.5035ms
2025-12-13 16:18:30.523 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 234.428ms
2025-12-13 16:18:30.527 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:18:30.531 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 16:18:30.536 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:18:30.547 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:18:30.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=169e5942-61b3-4e5c-a926-d390e75ec84a&role=doctor - 200 null application/json; charset=utf-8 421.352ms
2025-12-13 16:18:30.554 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 426.2399ms
2025-12-13 16:18:30.608 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:18:30.695 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:18:30.699 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:18:30.828 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:18:30.905 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:18:30.917 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:18:30.930 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:18:30.939 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:18:30.946 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 237.211ms
2025-12-13 16:18:30.951 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:18:30.954 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 426.9077ms
2025-12-13 16:22:13.470 +02:00 [INF] Checking for reminders to send at "2025-12-13T14:22:13.4704663Z"
2025-12-13 16:22:13.635 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 16:22:13.674 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 16:24:24.715 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:24:24.736 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:24:24.738 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 23.3178ms
2025-12-13 16:24:24.746 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:24:24.760 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:24:24.791 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:24:24.804 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:24:24.807 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:24:24.823 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:24:24.892 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:24:24.904 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:24:24.916 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:24:24.924 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:24:24.962 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 146.9122ms
2025-12-13 16:24:24.968 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:24:24.972 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 226.3245ms
2025-12-13 16:24:44.038 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:24:44.217 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:24:44.220 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 181.8529ms
2025-12-13 16:24:44.228 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:24:44.389 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:24:44.439 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:24:44.515 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:24:44.519 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:24:44.593 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:24:44.627 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:24:44.641 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:24:44.655 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:24:44.665 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:24:44.669 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 142.9639ms
2025-12-13 16:24:44.676 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:24:44.680 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 452.56ms
2025-12-13 16:25:59.366 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Profile/picture/169e5942-61b3-4e5c-a926-d390e75ec84a?role=Doctor - multipart/form-data; boundary=----WebKitFormBoundaryVFT8ZUUSQXlfsmHc 1341802
2025-12-13 16:25:59.384 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:25:59.571 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:25:59.716 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict)'
2025-12-13 16:25:59.720 +02:00 [INF] Route matched with {action = "UploadProfilePicture", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.String]]] UploadProfilePicture(System.String, System.String, Microsoft.AspNetCore.Http.IFormFile) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:26:02.689 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userGuid2_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid2_0
2025-12-13 16:26:05.613 +02:00 [INF] Executed DbCommand (301ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Doctors] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Users] SET [ProfilePicture] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-13 16:26:05.849 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 16:26:05.854 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict) in 6124.0223ms
2025-12-13 16:26:05.861 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict)'
2025-12-13 16:26:05.866 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Profile/picture/169e5942-61b3-4e5c-a926-d390e75ec84a?role=Doctor - 200 null application/json; charset=utf-8 6500.3994ms
2025-12-13 16:26:05.879 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:26:05.888 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:26:05.892 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 13.4386ms
2025-12-13 16:26:05.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:26:05.912 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:26:05.918 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:26:06.097 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:26:06.101 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:26:06.578 +02:00 [INF] Executed DbCommand (469ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:26:06.597 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:26:06.612 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:26:06.622 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:26:06.630 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:26:06.634 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 527.3503ms
2025-12-13 16:26:06.638 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:26:06.642 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 744.836ms
2025-12-13 16:29:39.149 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Profile/picture/169e5942-61b3-4e5c-a926-d390e75ec84a?role=Doctor - multipart/form-data; boundary=----WebKitFormBoundary2uhvUcVWka9roWb5 1341802
2025-12-13 16:29:39.161 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:29:39.179 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:29:39.542 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict)'
2025-12-13 16:29:39.547 +02:00 [INF] Route matched with {action = "UploadProfilePicture", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.String]]] UploadProfilePicture(System.String, System.String, Microsoft.AspNetCore.Http.IFormFile) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:29:39.872 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userGuid2_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid2_0
2025-12-13 16:29:39.943 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Doctors] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Users] SET [ProfilePicture] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-13 16:29:39.999 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 16:29:40.006 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict) in 371.8348ms
2025-12-13 16:29:40.012 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict)'
2025-12-13 16:29:40.017 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Profile/picture/169e5942-61b3-4e5c-a926-d390e75ec84a?role=Doctor - 200 null application/json; charset=utf-8 868.3613ms
2025-12-13 16:29:40.032 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:29:40.053 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:29:40.071 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 38.8145ms
2025-12-13 16:29:40.080 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:29:40.202 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:29:40.248 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 16:29:40.269 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:29:40.278 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:29:40.301 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:29:40.340 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:29:40.419 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:29:40.437 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:29:40.447 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:29:40.452 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 165.3191ms
2025-12-13 16:29:40.457 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:29:40.463 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 382.715ms
2025-12-13 16:31:07.416 +02:00 [INF] Application is shutting down...
2025-12-13 16:40:25.946 +02:00 [INF] Executed DbCommand (281ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 16:40:26.706 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 16:40:26.763 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T14:40:26.7588411Z"
2025-12-13 16:40:28.122 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 16:40:28.125 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 16:40:28.494 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 16:40:28.496 +02:00 [INF] Hosting environment: Development
2025-12-13 16:40:28.499 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 16:40:31.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 16:40:32.860 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 1013.158ms
2025-12-13 16:40:33.610 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 16:40:33.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 14.6805ms
2025-12-13 16:40:33.840 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 16:40:34.491 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 650.9135ms
2025-12-13 16:40:34.776 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 16:40:34.860 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.9105ms
2025-12-13 16:40:56.790 +02:00 [INF] Checking for reminders to send at "2025-12-13T14:40:56.7899378Z"
2025-12-13 16:40:57.438 +02:00 [INF] Executed DbCommand (271ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 16:40:57.452 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 16:41:13.168 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:41:13.205 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:41:13.221 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 52.7946ms
2025-12-13 16:41:13.246 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:41:13.255 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:41:13.434 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:41:13.443 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:41:13.510 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:41:13.847 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:41:14.275 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:41:14.303 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:41:14.328 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:41:14.715 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:41:14.786 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 1262.8615ms
2025-12-13 16:41:14.796 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:41:14.814 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 1567.6579ms
2025-12-13 16:41:45.891 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Profile/picture/169e5942-61b3-4e5c-a926-d390e75ec84a?role=Doctor - multipart/form-data; boundary=----WebKitFormBoundarynB5xshiiwswqX17M 1341802
2025-12-13 16:41:45.899 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:41:45.909 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:41:45.911 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict)'
2025-12-13 16:41:46.090 +02:00 [INF] Route matched with {action = "UploadProfilePicture", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.String]]] UploadProfilePicture(System.String, System.String, Microsoft.AspNetCore.Http.IFormFile) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:41:47.460 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:41:47.478 +02:00 [INF] Updated profile picture for doctor 169e5942-61b3-4e5c-a926-d390e75ec84a
2025-12-13 16:41:48.250 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Doctors] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Users] SET [ProfilePicture] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-13 16:41:48.368 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 16:41:48.375 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict) in 2277.8049ms
2025-12-13 16:41:48.381 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.UploadProfilePicture (MediPredict)'
2025-12-13 16:41:48.388 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Profile/picture/169e5942-61b3-4e5c-a926-d390e75ec84a?role=Doctor - 200 null application/json; charset=utf-8 2497.1579ms
2025-12-13 16:41:48.401 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:41:48.422 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:41:48.424 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 22.613ms
2025-12-13 16:41:48.429 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:41:48.442 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:41:48.447 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:41:48.451 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:41:48.454 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:41:48.462 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:41:48.495 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:41:48.504 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:41:48.515 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:41:48.521 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:41:48.524 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 65.4033ms
2025-12-13 16:41:48.528 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:41:48.532 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 103.0762ms
2025-12-13 16:43:19.682 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:43:19.764 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - null null
2025-12-13 16:43:19.908 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:43:19.931 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 248.4572ms
2025-12-13 16:43:19.937 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:43:19.958 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:43:19.963 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:43:19.965 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:43:19.968 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:43:20.019 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:43:20.406 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:43:20.443 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:43:20.470 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:43:20.583 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:43:20.592 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 609.6186ms
2025-12-13 16:43:20.602 +02:00 [INF] Sending file. Request path: '/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png'. Physical path: 'C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict\wwwroot\uploads\profiles\169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png'
2025-12-13 16:43:20.654 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:43:20.661 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - 200 1341618 image/png 897.084ms
2025-12-13 16:43:20.668 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 730.4154ms
2025-12-13 16:46:17.147 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:46:17.168 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:46:17.171 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 24.0324ms
2025-12-13 16:46:17.242 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json 338
2025-12-13 16:46:17.262 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:46:17.266 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:46:17.272 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 16:46:17.285 +02:00 [INF] Route matched with {action = "UpdateDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] UpdateDoctorProfile(System.String, MediPredict.Data.ViewModels.DoctorEditViewModel) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:46:17.452 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:46:17.598 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 100), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [AvailableDays] = @p0, [ConsultationFee] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-13 16:46:17.612 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 16:46:17.619 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict) in 323.4837ms
2025-12-13 16:46:17.631 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 16:46:17.648 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 405.9249ms
2025-12-13 16:46:17.717 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:46:17.733 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:46:17.739 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:46:17.745 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:46:17.749 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:46:17.787 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:46:17.831 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:46:17.851 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:46:17.871 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:46:17.886 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:46:17.894 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 133.1948ms
2025-12-13 16:46:17.903 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:46:17.920 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 202.7645ms
2025-12-13 16:46:18.129 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - null null
2025-12-13 16:46:18.189 +02:00 [INF] The file /uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png was not modified
2025-12-13 16:46:18.194 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - 304 null image/png 65.7232ms
2025-12-13 16:46:31.573 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:46:31.582 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:46:31.587 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 14.5053ms
2025-12-13 16:46:31.597 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json 600
2025-12-13 16:46:31.611 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:46:31.615 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:46:31.619 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 16:46:31.623 +02:00 [INF] Route matched with {action = "UpdateDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] UpdateDoctorProfile(System.String, MediPredict.Data.ViewModels.DoctorEditViewModel) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:46:31.651 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:46:31.768 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [BoardCertifications] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-12-13 16:46:31.789 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 16:46:31.799 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict) in 163.2843ms
2025-12-13 16:46:31.808 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.UpdateDoctorProfile (MediPredict)'
2025-12-13 16:46:31.816 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 218.7757ms
2025-12-13 16:46:31.823 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:46:31.864 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:46:31.868 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:46:31.871 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:46:31.879 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:46:31.929 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:46:31.963 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:46:31.982 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:46:32.001 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:46:32.013 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:46:32.021 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 130.2805ms
2025-12-13 16:46:32.029 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:46:32.035 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 211.6677ms
2025-12-13 16:58:25.280 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:58:25.292 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:58:25.300 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 20.0876ms
2025-12-13 16:58:27.951 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:58:27.960 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:58:27.968 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:58:27.971 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:58:27.985 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:58:28.266 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:58:28.298 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:58:28.312 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:58:28.336 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:58:28.350 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:58:28.356 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 356.9559ms
2025-12-13 16:58:28.365 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:58:28.370 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 419.0355ms
2025-12-13 16:58:28.611 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - null null
2025-12-13 16:58:28.630 +02:00 [INF] The file /uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png was not modified
2025-12-13 16:58:28.642 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - 304 null image/png 31.234ms
2025-12-13 16:59:23.289 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:59:23.289 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 16:59:23.300 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:59:23.310 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:59:23.317 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 27.7019ms
2025-12-13 16:59:23.329 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 40.3184ms
2025-12-13 16:59:23.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:59:23.416 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:59:23.422 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:59:23.427 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:59:23.439 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:59:23.468 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:59:23.498 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:59:23.523 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:59:23.542 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:59:23.553 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:59:23.562 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 110.7468ms
2025-12-13 16:59:23.564 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 16:59:23.568 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:59:23.580 +02:00 [INF] CORS policy execution successful.
2025-12-13 16:59:23.584 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 225.5829ms
2025-12-13 16:59:23.590 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 16:59:23.608 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:59:23.612 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 16:59:23.638 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 16:59:23.667 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 16:59:23.681 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 16:59:23.696 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 16:59:23.705 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 16:59:23.714 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 89.9799ms
2025-12-13 16:59:23.719 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 16:59:23.724 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 159.0301ms
2025-12-13 17:07:02.859 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 17:07:02.876 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:07:02.887 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 27.8796ms
2025-12-13 17:07:02.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 17:07:02.951 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:07:02.969 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:07:02.977 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 17:07:02.985 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 17:07:03.051 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 17:07:03.089 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 17:07:03.123 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 17:07:03.156 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 17:07:03.177 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 17:07:03.185 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 173.7597ms
2025-12-13 17:07:03.195 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 17:07:03.200 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 270.7607ms
2025-12-13 17:07:03.318 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - null null
2025-12-13 17:07:03.331 +02:00 [INF] The file /uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png was not modified
2025-12-13 17:07:03.336 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - 304 null image/png 17.6028ms
2025-12-13 17:09:33.407 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 17:09:33.425 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:09:33.432 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 25.4087ms
2025-12-13 17:09:33.449 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 17:09:33.489 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:09:33.494 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:09:33.497 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 17:09:33.501 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 17:09:33.530 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 17:09:33.556 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 17:09:33.568 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 17:09:33.582 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 17:09:33.593 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 17:09:33.601 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 86.7648ms
2025-12-13 17:09:33.607 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 17:09:33.610 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 161.1001ms
2025-12-13 17:09:33.694 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - null null
2025-12-13 17:09:33.708 +02:00 [INF] The file /uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png was not modified
2025-12-13 17:09:33.713 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - 304 null image/png 18.4561ms
2025-12-13 17:10:57.462 +02:00 [INF] Checking for reminders to send at "2025-12-13T15:10:57.4623752Z"
2025-12-13 17:10:57.494 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 17:10:57.515 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 17:16:27.060 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 17:16:27.063 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - null null
2025-12-13 17:16:27.074 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:16:27.085 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:16:27.089 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 29.3242ms
2025-12-13 17:16:27.097 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 204 null null 33.5779ms
2025-12-13 17:16:27.098 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 17:16:27.131 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:16:27.137 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:16:27.142 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 17:16:27.147 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 17:16:27.276 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 17:16:27.312 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 17:16:27.328 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 17:16:27.342 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 17:16:27.354 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 17:16:27.363 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 202.3378ms
2025-12-13 17:16:27.366 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - application/json null
2025-12-13 17:16:27.375 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 17:16:27.386 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:16:27.391 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 292.9104ms
2025-12-13 17:16:27.398 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:16:27.414 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 17:16:27.418 +02:00 [INF] Route matched with {action = "GetDoctorProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctorProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 17:16:27.587 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[UserId] = @__userGuid_0
2025-12-13 17:16:27.613 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__doctor_Id_0 AND [a].[Status] = 4
) AS [t]
2025-12-13 17:16:27.629 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctor_Id_0
2025-12-13 17:16:27.644 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__doctor_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [ConsultationRecords] AS [c]
WHERE [c].[DoctorId] = @__doctor_Id_0
2025-12-13 17:16:27.658 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 17:16:27.665 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict) in 234.7557ms
2025-12-13 17:16:27.673 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetDoctorProfile (MediPredict)'
2025-12-13 17:16:27.677 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/doctor/169e5942-61b3-4e5c-a926-d390e75ec84a?userId=169e5942-61b3-4e5c-a926-d390e75ec84a - 200 null application/json; charset=utf-8 310.6596ms
2025-12-13 17:16:45.868 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 17:16:45.900 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:16:45.903 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 35.4504ms
2025-12-13 17:16:45.908 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 17:16:45.930 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:16:46.312 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 17:16:47.161 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 17:16:47.276 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 17:16:47.502 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 333.3005ms
2025-12-13 17:16:47.506 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 17:16:47.510 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 1602.3093ms
2025-12-13 17:18:13.856 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 17:18:13.863 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:13.866 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 10.1581ms
2025-12-13 17:18:13.873 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 55
2025-12-13 17:18:13.895 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:13.993 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:18:13.997 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 17:18:14.306 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 17:18:15.189 +02:00 [INF] Login attempt for ishimwe@gmail.com
2025-12-13 17:18:16.860 +02:00 [INF] Executed DbCommand (257ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 17:18:18.273 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 17:18:18.284 +02:00 [INF] Login successful for ishimwe@gmail.com
2025-12-13 17:18:18.332 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 17:18:18.343 +02:00 [INF] Session created for user ishimwe@gmail.com with ID "6166a7b1-b61d-4a14-a8cb-6b4810d8d092"
2025-12-13 17:18:18.369 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:18:18.474 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 4007.2197ms
2025-12-13 17:18:18.479 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 17:18:18.484 +02:00 [INF] Session started; Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c, Id:d72a9c1a-7b46-2661-a0f9-c431568c0e78
2025-12-13 17:18:18.491 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 4617.9509ms
2025-12-13 17:18:26.909 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - null null
2025-12-13 17:18:26.909 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - null null
2025-12-13 17:18:26.918 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:26.926 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:26.928 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 204 null null 18.8544ms
2025-12-13 17:18:26.935 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 204 null null 25.5549ms
2025-12-13 17:18:27.068 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - application/json null
2025-12-13 17:18:27.070 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - application/json null
2025-12-13 17:18:27.079 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:27.089 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:27.134 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict)'
2025-12-13 17:18:27.164 +02:00 [INF] Route matched with {action = "GetPredictionHistory", controller = "Predictions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetPredictionHistory(System.String) on controller MediPredict.Controllers.Api.PredictionsController (MediPredict).
2025-12-13 17:18:27.199 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 17:18:27.236 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 17:18:27.247 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 17:18:28.016 +02:00 [INF] Executed DbCommand (352ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userGuid_0
2025-12-13 17:18:28.085 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-13 17:18:28.512 +02:00 [INF] Executed DbCommand (411ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 17:18:28.700 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 17:18:28.861 +02:00 [INF] Executed DbCommand (314ms) [Parameters=[@__patient_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[Description], [s].[PatientId], [s].[SeverityLevel], [t].[Id], [t].[ConfidenceLevel], [t].[CreatedAt], [t].[DiseaseId], [t].[Probability], [t].[Recommendations], [t].[SymptomEntryId], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive], [t].[Name], [t].[Precautions], [t].[ProbabilityScore], [t].[RecommendedAction], [t].[SymptomsDescription], [t].[UpdatedAt]
FROM [SymptomEntries] AS [s]
LEFT JOIN (
    SELECT [a].[Id], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DiseaseId], [a].[Probability], [a].[Recommendations], [a].[SymptomEntryId], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[Description], [d].[IsActive], [d].[Name], [d].[Precautions], [d].[ProbabilityScore], [d].[RecommendedAction], [d].[SymptomsDescription], [d].[UpdatedAt]
    FROM [AIPredictions] AS [a]
    INNER JOIN [Diseases] AS [d] ON [a].[DiseaseId] = [d].[Id]
) AS [t] ON [s].[Id] = [t].[SymptomEntryId]
WHERE [s].[PatientId] = @__patient_Id_0
ORDER BY [s].[CreatedAt] DESC, [s].[Id], [t].[Id]
2025-12-13 17:18:28.874 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:18:28.932 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 17:18:28.945 +02:00 [INF] Executed action MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict) in 1771.8327ms
2025-12-13 17:18:28.960 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict)'
2025-12-13 17:18:28.964 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 200 null application/json; charset=utf-8 1896.7158ms
2025-12-13 17:18:29.170 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 17:18:29.192 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:18:29.221 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 1958.9034ms
2025-12-13 17:18:29.227 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 17:18:29.232 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 200 null application/json; charset=utf-8 2161.3961ms
2025-12-13 17:18:37.400 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:18:37.458 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:37.461 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 61.4028ms
2025-12-13 17:18:37.465 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:18:37.485 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:37.490 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:18:37.503 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:18:37.591 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:18:37.618 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:18:37.631 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 119.2444ms
2025-12-13 17:18:37.648 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:18:37.656 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 191.0807ms
2025-12-13 17:18:38.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:18:38.763 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:38.768 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:18:38.773 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:18:38.783 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:18:38.788 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:18:38.793 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 10.6559ms
2025-12-13 17:18:38.802 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:18:38.806 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 51.1552ms
2025-12-13 17:18:40.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:18:40.817 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:40.821 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:18:40.826 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:18:40.836 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:18:40.841 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:18:40.847 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 10.6335ms
2025-12-13 17:18:40.967 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:18:40.971 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 160.6955ms
2025-12-13 17:18:44.860 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:18:44.870 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:44.873 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 12.715ms
2025-12-13 17:18:44.878 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:18:44.893 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:18:44.897 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:18:44.902 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:18:44.911 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:18:44.916 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:18:44.923 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 12.2607ms
2025-12-13 17:18:44.927 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:18:44.934 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 56.5892ms
2025-12-13 17:25:35.240 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:25:35.249 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:25:35.252 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 11.8116ms
2025-12-13 17:25:35.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:25:35.273 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:25:35.277 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:25:35.281 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:25:35.293 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:25:35.297 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:25:35.306 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 13.0861ms
2025-12-13 17:25:35.310 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:25:35.314 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 55.2349ms
2025-12-13 17:31:43.051 +02:00 [INF] Application is shutting down...
2025-12-13 17:41:35.180 +02:00 [INF] Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 17:41:35.910 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 17:41:35.948 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T15:41:35.9460020Z"
2025-12-13 17:41:37.596 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 17:41:37.599 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 17:41:37.926 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 17:41:37.928 +02:00 [INF] Hosting environment: Development
2025-12-13 17:41:37.930 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 17:41:43.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 17:41:45.770 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 1882.4465ms
2025-12-13 17:41:46.642 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:41:46.663 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:41:46.667 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 25.0931ms
2025-12-13 17:41:46.701 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:41:46.707 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:41:46.879 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:41:46.943 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:41:46.954 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:41:46.974 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:41:46.999 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 42.7013ms
2025-12-13 17:41:47.003 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:41:47.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 312.0007ms
2025-12-13 17:41:50.732 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:41:50.738 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:41:50.746 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:41:50.748 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:41:50.754 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:41:50.757 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:41:50.760 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 7.2254ms
2025-12-13 17:41:50.763 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:41:50.766 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 34.1518ms
2025-12-13 17:41:54.779 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:41:54.784 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:41:54.785 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 5.6578ms
2025-12-13 17:41:54.787 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:41:54.803 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:41:54.814 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:41:54.819 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:41:54.829 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:41:54.834 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:41:54.837 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 7.8225ms
2025-12-13 17:41:54.844 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:41:54.847 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 59.416ms
2025-12-13 17:42:01.981 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:42:02.051 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:42:02.066 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 85.1057ms
2025-12-13 17:42:02.070 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:42:02.085 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:42:02.087 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:42:02.089 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:42:02.099 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:42:02.101 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:42:02.104 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 4.5763ms
2025-12-13 17:42:02.110 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:42:02.113 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 42.7042ms
2025-12-13 17:42:03.195 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:42:03.200 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:42:03.203 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:42:03.205 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:42:03.212 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:42:03.214 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:42:03.217 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 4.5504ms
2025-12-13 17:42:03.219 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:42:03.220 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 25.1436ms
2025-12-13 17:42:05.229 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:42:05.239 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:42:05.241 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:42:05.245 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:42:05.250 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:42:05.252 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:42:05.254 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 4.5534ms
2025-12-13 17:42:05.256 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:42:05.259 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 30.1454ms
2025-12-13 17:42:06.014 +02:00 [INF] Checking for reminders to send at "2025-12-13T15:42:06.0145205Z"
2025-12-13 17:42:06.952 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 17:42:06.966 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 17:42:09.263 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:42:09.268 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:42:09.270 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 6.7826ms
2025-12-13 17:42:09.273 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:42:09.280 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:42:09.282 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:42:09.284 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:42:09.288 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:42:09.290 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:42:09.294 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 6.563ms
2025-12-13 17:42:09.298 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:42:09.299 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 26.5032ms
2025-12-13 17:45:06.609 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:45:06.625 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:45:06.627 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 17.682ms
2025-12-13 17:45:06.634 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:45:06.651 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:45:06.656 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:45:06.662 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:45:06.669 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:45:06.674 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:45:06.680 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 11.5542ms
2025-12-13 17:45:06.684 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:45:06.686 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 51.7275ms
2025-12-13 17:45:08.001 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:45:08.010 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:45:08.013 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 12.6476ms
2025-12-13 17:45:08.093 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:45:08.100 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:45:08.187 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:45:08.192 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:45:08.195 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:45:08.203 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:45:08.209 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:45:08.214 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 10.3731ms
2025-12-13 17:45:08.224 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:45:08.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 135.7479ms
2025-12-13 17:45:10.228 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:45:10.233 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:45:10.236 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:45:10.238 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:45:10.243 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:45:10.251 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:45:10.253 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:45:10.262 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 11.7318ms
2025-12-13 17:45:10.267 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:45:10.270 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 42.4208ms
2025-12-13 17:45:14.520 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:45:14.529 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:45:14.531 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 10.5786ms
2025-12-13 17:45:14.580 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:45:14.584 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:45:14.587 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:45:14.591 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:45:14.595 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:45:14.604 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:45:14.610 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:45:14.616 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 11.4847ms
2025-12-13 17:45:14.624 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:45:14.645 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 64.7409ms
2025-12-13 17:45:59.113 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:45:59.121 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:45:59.124 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 11.0758ms
2025-12-13 17:45:59.306 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:45:59.320 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:45:59.329 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:45:59.337 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:45:59.342 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:45:59.354 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:45:59.362 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:45:59.373 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 19.3843ms
2025-12-13 17:45:59.384 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:45:59.395 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 88.4634ms
2025-12-13 17:45:59.538 +02:00 [INF] Application is shutting down...
2025-12-13 17:46:00.569 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:46:00.575 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:46:00.578 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:46:00.584 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:46:00.587 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:46:00.593 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 17:46:00.602 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:46:00.607 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 13.6951ms
2025-12-13 17:46:00.615 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:46:00.620 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 401 null application/json; charset=utf-8 50.147ms
2025-12-13 17:47:27.700 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 17:47:27.986 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 17:47:28.006 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T15:47:28.0007012Z"
2025-12-13 17:47:28.684 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 17:47:28.687 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 17:47:28.865 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 17:47:28.869 +02:00 [INF] Hosting environment: Development
2025-12-13 17:47:28.871 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 17:47:31.487 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 17:47:32.733 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 1246.694ms
2025-12-13 17:47:32.735 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 17:47:33.063 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 327.927ms
2025-12-13 17:47:33.786 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 17:47:34.266 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 480.1115ms
2025-12-13 17:47:34.778 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 17:47:35.233 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 454.9929ms
2025-12-13 17:47:52.199 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:47:52.215 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:47:52.222 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 22.8163ms
2025-12-13 17:47:52.249 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:47:52.256 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:47:52.359 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:47:52.427 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:47:52.555 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:47:53.454 +02:00 [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
2025-12-13 17:47:53.999 +02:00 [INF] Executed DbCommand (339ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 17:47:54.035 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:47:54.079 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 1514.9943ms
2025-12-13 17:47:54.081 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:47:54.112 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 200 null application/json; charset=utf-8 1863.2489ms
2025-12-13 17:47:58.037 +02:00 [INF] Checking for reminders to send at "2025-12-13T15:47:58.0370653Z"
2025-12-13 17:47:58.247 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 17:47:58.256 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 17:48:11.198 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:48:11.327 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:48:11.343 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 144.1629ms
2025-12-13 17:48:11.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:48:11.373 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:48:11.399 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:48:11.405 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:48:11.407 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:48:11.452 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
2025-12-13 17:48:11.796 +02:00 [INF] Executed DbCommand (194ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 17:48:11.857 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:48:11.861 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 446.307ms
2025-12-13 17:48:11.865 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:48:11.867 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 200 null application/json; charset=utf-8 511.1898ms
2025-12-13 17:50:30.056 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:50:30.082 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:50:30.099 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 42.9097ms
2025-12-13 17:50:30.107 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:50:30.125 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:50:30.131 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:50:30.133 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:50:30.136 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:50:30.178 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
2025-12-13 17:50:30.215 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 17:50:30.238 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:50:30.254 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 110.5033ms
2025-12-13 17:50:30.322 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:50:30.352 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 200 null application/json; charset=utf-8 244.8702ms
2025-12-13 17:50:48.327 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:50:48.926 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:50:48.934 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 607.0812ms
2025-12-13 17:50:48.991 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:50:49.148 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:50:49.152 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:50:49.156 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:50:49.218 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:50:49.300 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
2025-12-13 17:50:49.609 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 17:50:49.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:50:49.683 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 440.3452ms
2025-12-13 17:50:49.750 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:50:49.757 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 200 null application/json; charset=utf-8 765.1379ms
2025-12-13 17:51:47.632 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 17:51:47.738 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:51:47.761 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 128.9051ms
2025-12-13 17:51:47.819 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 17:51:47.834 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:51:47.837 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 17:51:47.844 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:51:47.849 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 17:51:47.884 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
2025-12-13 17:51:47.911 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 17:51:47.928 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 17:51:47.935 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 72.7315ms
2025-12-13 17:51:47.941 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 17:51:47.945 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 200 null application/json; charset=utf-8 125.4756ms
2025-12-13 17:53:56.073 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 17:53:56.080 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:53:56.087 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 14.9412ms
2025-12-13 17:53:56.093 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 17:53:56.108 +02:00 [INF] CORS policy execution successful.
2025-12-13 17:53:56.112 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 17:53:56.166 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 17:53:56.171 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 17:53:56.178 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 7.8746ms
2025-12-13 17:53:56.182 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 17:53:56.186 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 92.7622ms
2025-12-13 17:59:11.637 +02:00 [INF] Application is shutting down...
2025-12-13 18:11:20.287 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 18:11:20.764 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 18:11:20.803 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T16:11:20.8006359Z"
2025-12-13 18:11:21.624 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 18:11:21.628 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 18:11:21.876 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 18:11:21.878 +02:00 [INF] Hosting environment: Development
2025-12-13 18:11:21.879 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 18:11:23.824 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 18:11:24.489 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 667.5719ms
2025-12-13 18:11:25.391 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 18:11:25.391 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 18:11:25.407 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 15.5212ms
2025-12-13 18:11:25.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 169.6647ms
2025-12-13 18:11:26.271 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 18:11:26.536 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 264.5499ms
2025-12-13 18:11:50.846 +02:00 [INF] Checking for reminders to send at "2025-12-13T16:11:50.8465260Z"
2025-12-13 18:11:55.885 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 18:11:55.901 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 18:12:32.069 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 18:12:32.229 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:12:32.306 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 236.5925ms
2025-12-13 18:12:32.358 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 59
2025-12-13 18:12:32.367 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:12:32.812 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:12:32.852 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 18:12:32.980 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 18:12:33.134 +02:00 [INF] Login attempt for admin@medipredict.com
2025-12-13 18:12:33.443 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 18:12:33.458 +02:00 [WRN] Login failed: User not found for admin@medipredict.com
2025-12-13 18:12:33.485 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:12:33.521 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 520.1522ms
2025-12-13 18:12:33.528 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 18:12:33.548 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 401 null application/json; charset=utf-8 1190.147ms
2025-12-13 18:16:36.336 +02:00 [INF] Application is shutting down...
2025-12-13 18:16:55.658 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 18:16:56.002 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Admin'
2025-12-13 18:16:56.375 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = N'admin@medipredict.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 18:16:56.946 +02:00 [INF] Executed DbCommand (288ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 4000), @p11='?' (Size = 20), @p12='?' (Size = 500), @p13='?' (DbType = Guid), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Address], [CreatedAt], [DateOfBirth], [Email], [FirstName], [Gender], [IsActive], [LastLoginAt], [LastName], [PasswordHash], [PhoneNumber], [ProfilePicture], [RoleId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-13 18:16:56.992 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 18:16:57.012 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T16:16:57.0072907Z"
2025-12-13 18:16:57.313 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 18:16:57.317 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 18:16:57.464 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 18:16:57.484 +02:00 [INF] Hosting environment: Development
2025-12-13 18:16:57.491 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 18:16:58.293 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 18:17:00.006 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 1715.7229ms
2025-12-13 18:17:00.116 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 18:17:00.147 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript; charset=utf-8 17.8892ms
2025-12-13 18:17:01.335 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null
2025-12-13 18:17:01.380 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.2495ms
2025-12-13 18:17:02.377 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null
2025-12-13 18:17:02.500 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.5708ms
2025-12-13 18:17:25.512 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 18:17:25.523 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:17:25.528 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 16.2824ms
2025-12-13 18:17:25.544 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 59
2025-12-13 18:17:25.549 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:17:25.637 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:17:25.648 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 18:17:25.694 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 18:17:25.772 +02:00 [INF] Login attempt for admin@medipredict.com
2025-12-13 18:17:26.031 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 18:17:26.533 +02:00 [INF] Executed DbCommand (277ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 18:17:26.548 +02:00 [INF] Login successful for admin@medipredict.com
2025-12-13 18:17:26.576 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 18:17:26.581 +02:00 [INF] Session created for user admin@medipredict.com with ID "e11fa28e-0768-4c72-80a5-945912b3a523"
2025-12-13 18:17:26.639 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:17:26.698 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 993.4414ms
2025-12-13 18:17:26.701 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 18:17:26.705 +02:00 [INF] Session started; Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c, Id:a0f9f43c-b493-0b51-c992-ea4bb1978365
2025-12-13 18:17:26.718 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 1174.2347ms
2025-12-13 18:17:27.046 +02:00 [INF] Checking for reminders to send at "2025-12-13T16:17:27.0464190Z"
2025-12-13 18:17:27.204 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 18:17:27.214 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 18:31:47.821 +02:00 [INF] Application is shutting down...
2025-12-13 18:40:22.397 +02:00 [INF] Executed DbCommand (2,331ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 18:40:27.644 +02:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Admin'
2025-12-13 18:40:28.844 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = N'admin@medipredict.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 18:40:30.087 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 18:40:30.415 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T16:40:30.4125853Z"
2025-12-13 18:40:46.911 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 18:40:46.914 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 18:40:49.693 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 18:40:49.695 +02:00 [INF] Hosting environment: Development
2025-12-13 18:40:49.697 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 18:41:00.428 +02:00 [INF] Checking for reminders to send at "2025-12-13T16:41:00.4289236Z"
2025-12-13 18:41:05.437 +02:00 [INF] Executed DbCommand (3,590ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 18:41:05.455 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 18:41:05.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger/index.html - null null
2025-12-13 18:41:05.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/swagger - null null
2025-12-13 18:41:28.804 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger - 499 null null 23184.3788ms
2025-12-13 18:41:29.255 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/swagger/index.html - 200 null text/html;charset=utf-8 23635.4838ms
2025-12-13 18:52:15.408 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - null null
2025-12-13 18:52:15.408 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - null null
2025-12-13 18:52:15.707 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:52:15.707 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:52:15.763 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - 204 null null 354.8865ms
2025-12-13 18:52:15.763 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - 204 null null 354.8593ms
2025-12-13 18:52:15.877 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - application/json null
2025-12-13 18:52:15.883 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:52:16.938 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:52:16.979 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:52:17.281 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 18:52:18.145 +02:00 [INF] Executed DbCommand (297ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
2025-12-13 18:52:18.774 +02:00 [INF] Executed DbCommand (477ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 18:52:18.873 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:52:18.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - application/json null
2025-12-13 18:52:18.933 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 1638.5604ms
2025-12-13 18:52:18.937 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:52:18.940 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:52:18.948 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:52:18.951 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:52:18.954 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 18:52:18.955 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - 200 null application/json; charset=utf-8 3077.6426ms
2025-12-13 18:52:18.978 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
2025-12-13 18:52:19.058 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 18:52:19.117 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:52:19.125 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 165.2772ms
2025-12-13 18:52:19.128 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:52:19.131 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - 200 null application/json; charset=utf-8 200.2721ms
2025-12-13 18:52:31.675 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - null null
2025-12-13 18:52:31.675 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - null null
2025-12-13 18:52:31.683 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:52:31.696 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:52:31.700 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - 204 null null 24.587ms
2025-12-13 18:52:31.702 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - 204 null null 26.6769ms
2025-12-13 18:52:31.717 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - application/json null
2025-12-13 18:52:31.737 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:52:31.745 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:52:31.748 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:52:31.751 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 18:52:31.784 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
2025-12-13 18:52:31.819 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 18:52:31.845 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:52:31.863 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 100.7841ms
2025-12-13 18:52:31.866 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - application/json null
2025-12-13 18:52:31.868 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:52:31.880 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:52:31.882 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - 200 null application/json; charset=utf-8 164.8506ms
2025-12-13 18:52:31.885 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:52:31.898 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:52:31.901 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 18:52:32.019 +02:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
2025-12-13 18:52:32.159 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 18:52:32.168 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:52:32.179 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 272.3187ms
2025-12-13 18:52:32.187 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:52:32.191 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - 200 null application/json; charset=utf-8 325.3712ms
2025-12-13 18:53:49.281 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - null null
2025-12-13 18:53:49.696 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - null null
2025-12-13 18:53:49.743 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:53:49.749 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:53:49.753 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - 204 null null 471.7433ms
2025-12-13 18:53:49.757 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?pageSize=100 - 204 null null 60.5683ms
2025-12-13 18:53:49.920 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - application/json null
2025-12-13 18:53:50.250 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:53:50.253 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:53:50.256 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:53:50.259 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 18:53:50.281 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
2025-12-13 18:53:50.299 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 18:53:50.311 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:53:50.315 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 49.2669ms
2025-12-13 18:53:50.318 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - application/json null
2025-12-13 18:53:50.325 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:53:50.321 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:53:50.327 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:53:50.332 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - 200 null application/json; charset=utf-8 411.3881ms
2025-12-13 18:53:50.335 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:53:50.355 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 18:53:50.372 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
2025-12-13 18:53:50.691 +02:00 [INF] Executed DbCommand (311ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 18:53:50.700 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:53:50.703 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 334.1308ms
2025-12-13 18:53:50.707 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:53:50.710 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?pageSize=100 - 200 null application/json; charset=utf-8 392.1573ms
2025-12-13 18:55:27.981 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - null null
2025-12-13 18:55:28.012 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:55:28.014 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 204 null null 32.37ms
2025-12-13 18:55:28.022 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - application/json null
2025-12-13 18:55:28.090 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:55:28.093 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:55:28.096 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:55:28.099 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 18:55:28.512 +02:00 [INF] Executed DbCommand (373ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-12-13 18:55:28.916 +02:00 [INF] Executed DbCommand (391ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 18:55:29.630 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 18:55:29.678 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 18:55:30.061 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 18:55:30.077 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 18:55:30.089 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 18:55:30.104 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 18:55:30.112 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 18:55:30.125 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 18:55:30.131 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:55:30.389 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 2282.7217ms
2025-12-13 18:55:30.392 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 18:55:30.396 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 200 null application/json; charset=utf-8 2373.2222ms
2025-12-13 18:55:30.737 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - null null
2025-12-13 18:55:30.937 +02:00 [INF] The file /uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png was not modified
2025-12-13 18:55:30.941 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - 304 null image/png 203.4273ms
2025-12-13 18:55:53.659 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 18:55:53.660 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 18:55:53.682 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:55:53.684 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 24.3131ms
2025-12-13 18:55:53.674 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:55:53.699 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 40.1931ms
2025-12-13 18:55:53.719 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 18:55:53.734 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:55:53.736 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:55:53.742 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 18:55:53.752 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 18:55:53.863 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 18:55:53.984 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 18:55:54.047 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 18:55:54.057 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 18:55:54.065 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 302.3843ms
2025-12-13 18:55:54.066 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 18:55:54.068 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 18:55:54.078 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:55:54.080 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 361.42ms
2025-12-13 18:55:54.085 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:55:54.100 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 18:55:54.103 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 18:55:54.124 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 18:55:54.148 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 18:55:54.204 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 18:55:54.217 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 18:55:54.223 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 110.8305ms
2025-12-13 18:55:54.283 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 18:55:54.289 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 222.8852ms
2025-12-13 18:56:06.373 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - null null
2025-12-13 18:56:06.379 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:56:06.382 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - 204 null null 8.9128ms
2025-12-13 18:56:06.389 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - application/json 0
2025-12-13 18:56:06.402 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:56:06.405 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:56:06.407 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict)'
2025-12-13 18:56:06.415 +02:00 [INF] Route matched with {action = "ApproveDoctor", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] ApproveDoctor(System.Guid) on controller MediPredict.Controllers.Api.AdminController (MediPredict).
2025-12-13 18:56:06.474 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 18:56:06.479 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:56:06.486 +02:00 [INF] Executed action MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict) in 62.6734ms
2025-12-13 18:56:06.497 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict)'
2025-12-13 18:56:06.500 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - 401 null application/json; charset=utf-8 111.6629ms
2025-12-13 18:56:45.874 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - null null
2025-12-13 18:56:45.884 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:56:45.889 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - 204 null null 14.5804ms
2025-12-13 18:56:45.898 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - application/json 0
2025-12-13 18:56:45.925 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:56:45.933 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:56:45.936 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict)'
2025-12-13 18:56:45.941 +02:00 [INF] Route matched with {action = "ApproveDoctor", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] ApproveDoctor(System.Guid) on controller MediPredict.Controllers.Api.AdminController (MediPredict).
2025-12-13 18:56:45.957 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 18:56:45.964 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:56:45.972 +02:00 [INF] Executed action MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict) in 15.3055ms
2025-12-13 18:56:46.002 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict)'
2025-12-13 18:56:46.008 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - 401 null application/json; charset=utf-8 110.1158ms
2025-12-13 18:58:50.824 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 18:58:50.827 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 18:58:51.078 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:58:51.104 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 279.336ms
2025-12-13 18:58:51.102 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:58:51.120 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 292.9145ms
2025-12-13 18:58:51.153 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 18:58:51.238 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:58:51.243 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:58:51.247 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 18:58:51.259 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 18:58:51.299 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 18:58:51.361 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 18:58:51.382 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 18:58:51.393 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 18:58:51.398 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 120.0473ms
2025-12-13 18:58:51.427 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 18:58:51.441 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 18:58:51.459 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 306.2756ms
2025-12-13 18:58:51.470 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:58:51.567 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:58:51.572 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 18:58:51.578 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 18:58:51.597 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 18:58:51.618 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 18:58:51.642 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 18:58:51.693 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 18:58:51.709 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 122.7023ms
2025-12-13 18:58:51.789 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 18:58:51.794 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 366.8445ms
2025-12-13 18:58:54.088 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - null null
2025-12-13 18:58:54.113 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:58:54.120 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - 204 null null 32.0286ms
2025-12-13 18:58:54.125 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - application/json 0
2025-12-13 18:58:54.156 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:58:54.159 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 18:58:54.161 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict)'
2025-12-13 18:58:54.166 +02:00 [INF] Route matched with {action = "ApproveDoctor", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] ApproveDoctor(System.Guid) on controller MediPredict.Controllers.Api.AdminController (MediPredict).
2025-12-13 18:58:54.172 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 18:58:54.174 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 18:58:54.181 +02:00 [INF] Executed action MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict) in 9.5048ms
2025-12-13 18:58:54.185 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict)'
2025-12-13 18:58:54.188 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - 401 null application/json; charset=utf-8 63.5277ms
2025-12-13 18:59:53.788 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 18:59:53.794 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:59:53.796 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 8.2379ms
2025-12-13 18:59:53.799 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 18:59:53.808 +02:00 [INF] CORS policy execution successful.
2025-12-13 18:59:53.867 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 18:59:53.871 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 18:59:53.877 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 18:59:53.882 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 6.976ms
2025-12-13 18:59:53.885 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 18:59:53.890 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 91.782ms
2025-12-13 19:00:16.747 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 19:00:16.751 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:16.754 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 6.7162ms
2025-12-13 19:00:16.769 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 59
2025-12-13 19:00:16.778 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:16.786 +02:00 [INF] Accessing expired session, Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c
2025-12-13 19:00:16.788 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 19:00:16.796 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 19:00:17.166 +02:00 [INF] Login attempt for admin@medipredict.com
2025-12-13 19:00:17.376 +02:00 [INF] Executed DbCommand (175ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 19:00:18.035 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 19:00:18.071 +02:00 [INF] Login successful for admin@medipredict.com
2025-12-13 19:00:18.111 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 19:00:18.120 +02:00 [INF] Session created for user admin@medipredict.com with ID "e11fa28e-0768-4c72-80a5-945912b3a523"
2025-12-13 19:00:18.153 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:00:18.159 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 1355.3244ms
2025-12-13 19:00:18.161 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 19:00:18.164 +02:00 [INF] Session started; Key:6ea3b83b-9919-abfc-20c9-69aca7df5d3c, Id:353329fd-f722-7c44-cf6a-472d52b47bde
2025-12-13 19:00:18.167 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 1398.5419ms
2025-12-13 19:00:23.274 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - null null
2025-12-13 19:00:23.287 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - null null
2025-12-13 19:00:23.304 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:23.307 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 204 null null 19.5326ms
2025-12-13 19:00:23.293 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:23.337 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 204 null null 63.0338ms
2025-12-13 19:00:23.337 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - application/json null
2025-12-13 19:00:23.358 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:23.427 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:00:23.440 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:23.441 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:00:23.457 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-12-13 19:00:23.557 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:00:23.607 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:23.622 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:23.631 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:23.644 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:23.661 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:23.674 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:23.692 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:23.704 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:23.710 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:00:23.719 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 272.471ms
2025-12-13 19:00:23.722 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - application/json null
2025-12-13 19:00:23.723 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:23.731 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:23.736 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 200 null application/json; charset=utf-8 398.5662ms
2025-12-13 19:00:23.790 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:00:23.812 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:23.817 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:00:23.908 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-12-13 19:00:24.158 +02:00 [INF] Executed DbCommand (210ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:00:24.179 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:24.303 +02:00 [INF] Executed DbCommand (114ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:24.337 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:24.346 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:24.356 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:24.372 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:24.381 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:24.394 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:24.404 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:00:24.408 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 580.2843ms
2025-12-13 19:00:24.411 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:24.414 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 200 null application/json; charset=utf-8 691.9714ms
2025-12-13 19:00:28.376 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 19:00:28.387 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 19:00:28.410 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:28.414 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 26.8475ms
2025-12-13 19:00:28.398 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:28.479 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 103.4696ms
2025-12-13 19:00:28.495 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 19:00:28.510 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:28.564 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:00:28.616 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:00:28.626 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:00:28.807 +02:00 [INF] Executed DbCommand (143ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:00:28.840 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:00:28.879 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:00:28.892 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:00:28.907 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 243.6847ms
2025-12-13 19:00:28.913 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 19:00:28.932 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:00:28.943 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:28.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 451.2825ms
2025-12-13 19:00:28.975 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:00:28.993 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:00:28.995 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:00:29.015 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:00:29.147 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:00:29.182 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:00:29.196 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:00:29.211 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 204.2682ms
2025-12-13 19:00:29.217 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:00:29.223 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 310.2868ms
2025-12-13 19:00:32.299 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - null null
2025-12-13 19:00:32.306 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:32.308 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - 204 null null 9.2152ms
2025-12-13 19:00:32.311 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - application/json 0
2025-12-13 19:00:32.327 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:32.343 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:00:32.357 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict)'
2025-12-13 19:00:32.360 +02:00 [INF] Route matched with {action = "ApproveDoctor", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] ApproveDoctor(System.Guid) on controller MediPredict.Controllers.Api.AdminController (MediPredict).
2025-12-13 19:00:32.442 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-13 19:00:32.539 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 19:00:32.865 +02:00 [INF] Executed DbCommand (185ms) [Parameters=[@__doctorId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__doctorId_0
2025-12-13 19:00:33.102 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [IsVerified] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-12-13 19:00:33.115 +02:00 [INF] Doctor "8cebc73f-b665-4e7f-b370-61c15394942a" approved. Email notification skipped.
2025-12-13 19:00:33.122 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:00:33.131 +02:00 [INF] Executed action MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict) in 748.2964ms
2025-12-13 19:00:33.137 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AdminController.ApproveDoctor (MediPredict)'
2025-12-13 19:00:33.140 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Admin/doctors/8cebc73f-b665-4e7f-b370-61c15394942a/approve - 200 null application/json; charset=utf-8 829.5891ms
2025-12-13 19:00:33.334 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - null null
2025-12-13 19:00:33.347 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - null null
2025-12-13 19:00:33.409 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:33.416 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:33.423 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 204 null null 88.9462ms
2025-12-13 19:00:33.428 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - application/json null
2025-12-13 19:00:33.428 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 204 null null 80.9971ms
2025-12-13 19:00:33.461 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:33.509 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:00:33.539 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:33.542 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:00:33.704 +02:00 [INF] Executed DbCommand (146ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-12-13 19:00:33.936 +02:00 [INF] Executed DbCommand (220ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:00:33.959 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:33.977 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:33.991 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:33.998 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:34.008 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:34.015 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:34.026 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:34.038 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:34.045 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:00:34.053 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 495.5709ms
2025-12-13 19:00:34.054 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - application/json null
2025-12-13 19:00:34.056 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:34.062 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:34.065 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 200 null application/json; charset=utf-8 637.3503ms
2025-12-13 19:00:34.146 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:00:34.177 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:34.181 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:00:34.230 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-12-13 19:00:34.413 +02:00 [INF] Executed DbCommand (169ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:00:34.514 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:34.529 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:34.543 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:34.554 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:34.566 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:34.578 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:34.593 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:34.607 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:34.618 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:00:34.624 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 417.2244ms
2025-12-13 19:00:34.628 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:34.635 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 200 null application/json; charset=utf-8 580.4511ms
2025-12-13 19:00:47.704 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/c376ce35-1c7e-4f58-9345-a33af60282d9 - null null
2025-12-13 19:00:47.704 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/c376ce35-1c7e-4f58-9345-a33af60282d9 - null null
2025-12-13 19:00:47.779 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:47.791 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:47.795 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/c376ce35-1c7e-4f58-9345-a33af60282d9 - 204 null null 91.2126ms
2025-12-13 19:00:47.804 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/c376ce35-1c7e-4f58-9345-a33af60282d9 - 204 null null 98.9318ms
2025-12-13 19:00:47.807 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/c376ce35-1c7e-4f58-9345-a33af60282d9 - application/json null
2025-12-13 19:00:47.850 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:47.884 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:00:47.912 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:00:47.915 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:00:47.935 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:00:47.972 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:00:47.999 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:00:48.043 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:00:48.057 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 128.7534ms
2025-12-13 19:00:48.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/c376ce35-1c7e-4f58-9345-a33af60282d9 - application/json null
2025-12-13 19:00:48.074 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:00:48.081 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:48.084 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/c376ce35-1c7e-4f58-9345-a33af60282d9 - 200 null application/json; charset=utf-8 276.9756ms
2025-12-13 19:00:48.124 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:00:48.167 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:00:48.183 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:00:48.213 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:00:48.235 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:00:48.255 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:00:48.264 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:00:48.274 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 71.5729ms
2025-12-13 19:00:48.283 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:00:48.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/c376ce35-1c7e-4f58-9345-a33af60282d9 - 200 null application/json; charset=utf-8 225.8998ms
2025-12-13 19:00:56.546 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - null null
2025-12-13 19:00:56.557 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - null null
2025-12-13 19:00:56.573 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:56.585 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:56.590 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 204 null null 43.4318ms
2025-12-13 19:00:56.601 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 204 null null 43.2048ms
2025-12-13 19:00:56.607 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - application/json null
2025-12-13 19:00:56.649 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:56.668 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:00:56.692 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:56.695 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:00:56.711 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-12-13 19:00:56.731 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:00:56.765 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:56.787 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:56.812 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:56.829 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:56.847 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:56.864 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:56.881 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:56.895 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:56.903 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:00:56.909 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 208.3799ms
2025-12-13 19:00:56.912 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:56.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 200 null application/json; charset=utf-8 310.3491ms
2025-12-13 19:00:56.911 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - application/json null
2025-12-13 19:00:56.939 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:00:56.944 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:00:56.959 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:56.963 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:00:56.971 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-12-13 19:00:57.003 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:00:57.050 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:57.071 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:57.079 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:57.091 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:57.102 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:57.110 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:57.123 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:00:57.143 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:00:57.155 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:00:57.169 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 200.3193ms
2025-12-13 19:00:57.179 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:00:57.183 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 200 null application/json; charset=utf-8 272.1024ms
2025-12-13 19:01:04.840 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187 - null null
2025-12-13 19:01:04.841 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187 - null null
2025-12-13 19:01:04.884 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:01:04.931 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:01:04.946 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187 - 204 null null 105.5006ms
2025-12-13 19:01:04.947 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187 - 204 null null 106.4979ms
2025-12-13 19:01:04.975 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187 - application/json null
2025-12-13 19:01:04.993 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:01:05.027 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:01:05.050 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:01:05.063 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:01:05.086 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:01:05.114 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:01:05.132 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:01:05.147 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:01:05.161 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 84.3317ms
2025-12-13 19:01:05.170 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187 - application/json null
2025-12-13 19:01:05.196 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:01:05.203 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:01:05.245 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187 - 200 null application/json; charset=utf-8 275.1822ms
2025-12-13 19:01:05.297 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:01:05.380 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:01:05.386 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:01:05.407 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:01:05.447 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:01:05.479 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:01:05.494 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:01:05.510 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 113.3411ms
2025-12-13 19:01:05.524 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:01:05.529 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187 - 200 null application/json; charset=utf-8 358.8946ms
2025-12-13 19:01:13.807 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Admin/doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187/reject - null null
2025-12-13 19:01:13.813 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:01:13.815 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Admin/doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187/reject - 204 null null 8.1777ms
2025-12-13 19:01:13.821 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Admin/doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187/reject - application/json 12
2025-12-13 19:01:13.831 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:01:13.862 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:01:13.882 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AdminController.RejectDoctor (MediPredict)'
2025-12-13 19:01:13.902 +02:00 [INF] Route matched with {action = "RejectDoctor", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] RejectDoctor(System.Guid, System.String) on controller MediPredict.Controllers.Api.AdminController (MediPredict).
2025-12-13 19:01:13.954 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__doctorId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__doctorId_0
2025-12-13 19:01:13.980 +02:00 [INF] Doctor "bfd95ece-ac5f-40c4-b4b2-a78d01e41187" rejected. Email notification skipped.
2025-12-13 19:01:15.922 +02:00 [INF] Executed DbCommand (1,735ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Doctors]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 19:01:16.030 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:01:16.034 +02:00 [INF] Executed action MediPredict.Controllers.Api.AdminController.RejectDoctor (MediPredict) in 2117.5813ms
2025-12-13 19:01:16.038 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AdminController.RejectDoctor (MediPredict)'
2025-12-13 19:01:16.044 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Admin/doctors/bfd95ece-ac5f-40c4-b4b2-a78d01e41187/reject - 200 null application/json; charset=utf-8 2223.4582ms
2025-12-13 19:01:16.284 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - null null
2025-12-13 19:01:16.284 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - null null
2025-12-13 19:01:16.339 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:01:16.328 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:01:16.350 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 204 null null 66.0587ms
2025-12-13 19:01:16.345 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 204 null null 61.3897ms
2025-12-13 19:01:16.430 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - application/json null
2025-12-13 19:01:16.446 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:01:16.472 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:01:16.493 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:01:16.497 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:01:16.535 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-12-13 19:01:16.749 +02:00 [INF] Executed DbCommand (199ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:01:16.815 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:01:16.831 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:01:16.846 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:01:16.929 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:01:17.069 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:01:17.097 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:01:17.104 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:01:17.109 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 594.6602ms
2025-12-13 19:01:17.112 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:01:17.112 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - application/json null
2025-12-13 19:01:17.117 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 200 null application/json; charset=utf-8 686.9727ms
2025-12-13 19:01:17.124 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:01:17.150 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:01:17.166 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:01:17.169 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:01:17.190 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-12-13 19:01:17.214 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:01:17.235 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:01:17.248 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:01:17.257 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:01:17.263 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:01:17.272 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:01:17.278 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:01:17.289 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:01:17.295 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 116.3768ms
2025-12-13 19:01:17.303 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:01:17.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 200 null application/json; charset=utf-8 195.306ms
2025-12-13 19:05:10.142 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 19:05:10.151 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:10.154 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 12.2152ms
2025-12-13 19:05:10.157 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 19:05:10.174 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:10.180 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 19:05:10.185 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 19:05:10.195 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 19:05:10.200 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 7.8618ms
2025-12-13 19:05:10.205 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 19:05:10.208 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 50.4429ms
2025-12-13 19:05:27.691 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 19:05:27.697 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:27.700 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 8.5349ms
2025-12-13 19:05:27.705 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 59
2025-12-13 19:05:27.722 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:27.738 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:05:27.748 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 19:05:27.753 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 19:05:27.762 +02:00 [INF] Login attempt for admin@medipredict.com
2025-12-13 19:05:27.775 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 19:05:27.939 +02:00 [INF] Executed DbCommand (149ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 19:05:27.953 +02:00 [INF] Login successful for admin@medipredict.com
2025-12-13 19:05:27.963 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 19:05:27.980 +02:00 [INF] Session created for user admin@medipredict.com with ID "e11fa28e-0768-4c72-80a5-945912b3a523"
2025-12-13 19:05:27.986 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:05:27.996 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 235.2161ms
2025-12-13 19:05:28.005 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 19:05:28.062 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 357.0786ms
2025-12-13 19:05:33.409 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - null null
2025-12-13 19:05:33.409 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - null null
2025-12-13 19:05:33.420 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:33.492 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:33.495 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 204 null null 85.8251ms
2025-12-13 19:05:33.498 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 204 null null 88.9685ms
2025-12-13 19:05:33.507 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - application/json null
2025-12-13 19:05:33.539 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:33.563 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:05:33.588 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:05:33.592 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:05:33.626 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-12-13 19:05:33.661 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:05:33.688 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:05:33.707 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:05:33.714 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:05:33.727 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:05:33.739 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:05:33.746 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:05:33.757 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:05:33.761 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 150.7466ms
2025-12-13 19:05:33.768 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:05:33.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - application/json null
2025-12-13 19:05:33.772 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 200 null application/json; charset=utf-8 265.1032ms
2025-12-13 19:05:33.781 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:33.799 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:05:33.817 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:05:33.821 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:05:33.831 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
2025-12-13 19:05:33.968 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:05:33.985 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:05:34.001 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:05:34.017 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:05:34.030 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:05:34.047 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:05:34.061 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:05:34.073 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:05:34.078 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 249.1093ms
2025-12-13 19:05:34.086 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:05:34.089 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?includeUnverified=true&pageSize=100 - 200 null application/json; charset=utf-8 326.1599ms
2025-12-13 19:05:44.186 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - null null
2025-12-13 19:05:44.197 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:44.200 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/logout - 204 null null 13.8865ms
2025-12-13 19:05:44.203 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/logout - application/json 0
2025-12-13 19:05:44.228 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:44.231 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 19:05:44.234 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 19:05:44.244 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse'.
2025-12-13 19:05:44.248 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Logout (MediPredict) in 4.8939ms
2025-12-13 19:05:44.258 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Logout (MediPredict)'
2025-12-13 19:05:44.262 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/logout - 200 null application/json; charset=utf-8 58.5392ms
2025-12-13 19:05:57.624 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - null null
2025-12-13 19:05:57.629 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:57.631 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Auth/login - 204 null null 7.4148ms
2025-12-13 19:05:57.634 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7146/api/Auth/login - application/json 55
2025-12-13 19:05:57.655 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:05:57.666 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:05:57.688 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 19:05:57.692 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] Login(MediPredict.Controllers.Api.LoginViewModel) on controller MediPredict.Controllers.Api.AuthController (MediPredict).
2025-12-13 19:05:57.702 +02:00 [INF] Login attempt for ishimwe@gmail.com
2025-12-13 19:05:57.712 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Email] = @__email_0
2025-12-13 19:05:57.841 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 19:05:57.851 +02:00 [INF] Login successful for ishimwe@gmail.com
2025-12-13 19:05:57.878 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-13 19:05:57.890 +02:00 [INF] Session created for user ishimwe@gmail.com with ID "6166a7b1-b61d-4a14-a8cb-6b4810d8d092"
2025-12-13 19:05:57.898 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:05:57.907 +02:00 [INF] Executed action MediPredict.Controllers.Api.AuthController.Login (MediPredict) in 205.3999ms
2025-12-13 19:05:57.915 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AuthController.Login (MediPredict)'
2025-12-13 19:05:57.922 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7146/api/Auth/login - 200 null application/json; charset=utf-8 288.5696ms
2025-12-13 19:06:03.699 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - null null
2025-12-13 19:06:03.699 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - null null
2025-12-13 19:06:03.716 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:03.731 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:03.737 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 204 null null 37.8162ms
2025-12-13 19:06:03.745 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 204 null null 45.0907ms
2025-12-13 19:06:03.767 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - application/json null
2025-12-13 19:06:03.768 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - application/json null
2025-12-13 19:06:03.784 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:03.792 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:03.799 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:06:03.800 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict)'
2025-12-13 19:06:03.816 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 19:06:03.851 +02:00 [INF] Route matched with {action = "GetPredictionHistory", controller = "Predictions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetPredictionHistory(System.String) on controller MediPredict.Controllers.Api.PredictionsController (MediPredict).
2025-12-13 19:06:03.897 +02:00 [INF] Route matched with {action = "GetAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetAppointments(System.String, System.String, System.String) on controller MediPredict.Controllers.Api.AppointmentsController (MediPredict).
2025-12-13 19:06:04.007 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 19:06:04.033 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 19:06:04.148 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__userGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userGuid_0
2025-12-13 19:06:04.691 +02:00 [INF] Executed DbCommand (266ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
ORDER BY [a].[AppointmentDate] DESC
2025-12-13 19:06:04.826 +02:00 [INF] Executed DbCommand (145ms) [Parameters=[@__patient_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[Description], [s].[PatientId], [s].[SeverityLevel], [t].[Id], [t].[ConfidenceLevel], [t].[CreatedAt], [t].[DiseaseId], [t].[Probability], [t].[Recommendations], [t].[SymptomEntryId], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive], [t].[Name], [t].[Precautions], [t].[ProbabilityScore], [t].[RecommendedAction], [t].[SymptomsDescription], [t].[UpdatedAt]
FROM [SymptomEntries] AS [s]
LEFT JOIN (
    SELECT [a].[Id], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DiseaseId], [a].[Probability], [a].[Recommendations], [a].[SymptomEntryId], [d].[Id] AS [Id0], [d].[CreatedAt] AS [CreatedAt0], [d].[Description], [d].[IsActive], [d].[Name], [d].[Precautions], [d].[ProbabilityScore], [d].[RecommendedAction], [d].[SymptomsDescription], [d].[UpdatedAt]
    FROM [AIPredictions] AS [a]
    INNER JOIN [Diseases] AS [d] ON [a].[DiseaseId] = [d].[Id]
) AS [t] ON [s].[Id] = [t].[SymptomEntryId]
WHERE [s].[PatientId] = @__patient_Id_0
ORDER BY [s].[CreatedAt] DESC, [s].[Id], [t].[Id]
2025-12-13 19:06:04.844 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:06:04.892 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id] AS [id], [u].[FirstName] AS [firstName], [u].[LastName] AS [lastName], [d].[Specialization] AS [specialization], [d].[Experience] AS [experience], [d].[ConsultationFee] AS [consultationFee], [u].[ProfilePicture] AS [profilePicture]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[IsVerified] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
2025-12-13 19:06:04.903 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:06:04.909 +02:00 [INF] Executed action MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict) in 1047.927ms
2025-12-13 19:06:04.917 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.PredictionsController.GetPredictionHistory (MediPredict)'
2025-12-13 19:06:04.922 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Predictions/history/6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 200 null application/json; charset=utf-8 1154.2802ms
2025-12-13 19:06:05.025 +02:00 [INF] Executed action MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict) in 1121.464ms
2025-12-13 19:06:05.030 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.AppointmentsController.GetAppointments (MediPredict)'
2025-12-13 19:06:05.035 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Appointments?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092&role=patient - 200 null application/json; charset=utf-8 1267.1287ms
2025-12-13 19:06:16.191 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 19:06:16.247 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:16.250 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 58.9009ms
2025-12-13 19:06:16.354 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 19:06:16.362 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:16.366 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:06:16.382 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:06:16.387 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:06:16.404 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
2025-12-13 19:06:16.423 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:06:16.448 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:06:16.468 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:06:16.486 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:06:16.496 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 100.1053ms
2025-12-13 19:06:16.500 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:06:16.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 200 null application/json; charset=utf-8 149.5689ms
2025-12-13 19:06:40.602 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 19:06:40.602 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 19:06:40.643 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:40.664 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 62.3137ms
2025-12-13 19:06:40.658 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:40.669 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 19:06:40.687 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 84.5518ms
2025-12-13 19:06:40.703 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:40.737 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:06:40.760 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:06:40.769 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:06:40.790 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:06:40.825 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:06:40.855 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:06:40.871 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:06:40.875 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 92.3075ms
2025-12-13 19:06:40.881 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 19:06:40.886 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:06:40.896 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:40.901 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 231.8475ms
2025-12-13 19:06:40.908 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:06:40.940 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:06:40.948 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:06:40.958 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:06:40.974 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:06:40.985 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:06:40.996 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:06:41.000 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 43.9411ms
2025-12-13 19:06:41.003 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:06:41.008 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 126.695ms
2025-12-13 19:06:53.869 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 19:06:53.885 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 19:06:53.906 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:53.925 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:53.929 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 59.7445ms
2025-12-13 19:06:53.937 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 51.9886ms
2025-12-13 19:06:53.938 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 19:06:53.986 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:53.994 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:06:54.033 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:06:54.041 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:06:54.059 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:06:54.078 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:06:54.094 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:06:54.109 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:06:54.120 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 62.9965ms
2025-12-13 19:06:54.123 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 19:06:54.125 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:06:54.138 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:06:54.142 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 204.158ms
2025-12-13 19:06:54.188 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:06:54.219 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:06:54.232 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:06:54.250 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:06:54.392 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:06:54.420 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:06:54.435 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:06:54.445 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 196.8436ms
2025-12-13 19:06:54.459 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:06:54.463 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 340.6842ms
2025-12-13 19:07:27.289 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 19:07:27.297 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:07:27.300 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 11.0173ms
2025-12-13 19:07:27.310 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 19:07:27.328 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:07:27.357 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:07:27.374 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:07:27.378 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:07:27.399 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
2025-12-13 19:07:27.419 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:07:27.449 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:07:27.471 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:07:27.483 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:07:27.491 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 100.6396ms
2025-12-13 19:07:27.496 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:07:27.499 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 200 null application/json; charset=utf-8 189.3034ms
2025-12-13 19:07:31.424 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?specialization=Cardiology - null null
2025-12-13 19:07:31.429 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:07:31.432 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?specialization=Cardiology - 204 null null 7.8466ms
2025-12-13 19:07:31.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?specialization=Cardiology - application/json null
2025-12-13 19:07:31.449 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:07:31.460 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:07:31.475 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:07:31.480 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:07:31.849 +02:00 [INF] Executed DbCommand (218ms) [Parameters=[@__specialization_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit) AND [d].[Specialization] LIKE @__specialization_0_contains ESCAPE N'\'
2025-12-13 19:07:32.099 +02:00 [INF] Executed DbCommand (227ms) [Parameters=[@__specialization_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit) AND [d].[Specialization] LIKE @__specialization_0_contains ESCAPE N'\'
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-12-13 19:07:32.124 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:07:32.134 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:07:32.144 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:07:32.148 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 659.869ms
2025-12-13 19:07:32.154 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:07:32.157 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?specialization=Cardiology - 200 null application/json; charset=utf-8 722.5055ms
2025-12-13 19:07:33.761 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors?specialization=Dermatology - null null
2025-12-13 19:07:33.766 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:07:33.767 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors?specialization=Dermatology - 204 null null 6.4249ms
2025-12-13 19:07:33.773 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors?specialization=Dermatology - application/json null
2025-12-13 19:07:33.784 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:07:33.831 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:07:33.842 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:07:33.843 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:07:33.857 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__specialization_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit) AND [d].[Specialization] LIKE @__specialization_0_contains ESCAPE N'\'
2025-12-13 19:07:33.941 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__specialization_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit) AND [d].[Specialization] LIKE @__specialization_0_contains ESCAPE N'\'
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-12-13 19:07:33.954 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:07:33.958 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 109.4214ms
2025-12-13 19:07:33.963 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:07:33.965 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors?specialization=Dermatology - 200 null application/json; charset=utf-8 192.5745ms
2025-12-13 19:08:56.828 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 19:08:56.829 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 19:08:56.853 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:08:56.871 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:08:56.873 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 44.8906ms
2025-12-13 19:08:56.878 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 48.5291ms
2025-12-13 19:08:56.881 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 19:08:56.920 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:08:56.957 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:08:56.978 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:08:56.990 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:08:57.011 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:08:57.056 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:08:57.080 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:08:57.094 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:08:57.100 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 96.472ms
2025-12-13 19:08:57.107 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 19:08:57.110 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:08:57.125 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:08:57.129 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 247.7739ms
2025-12-13 19:08:57.140 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:08:57.188 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:08:57.211 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:08:57.251 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:08:57.380 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:08:57.414 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:08:57.426 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:08:57.435 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 198.4978ms
2025-12-13 19:08:57.449 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:08:57.454 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 347.504ms
2025-12-13 19:09:01.497 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 19:09:01.513 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:09:01.516 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 19.4534ms
2025-12-13 19:09:01.520 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 19:09:01.551 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:09:01.594 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:09:01.628 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:09:01.631 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:09:01.656 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
2025-12-13 19:09:01.674 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:09:01.698 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:09:01.720 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:09:01.730 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:09:01.737 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 92.7338ms
2025-12-13 19:09:01.744 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:09:01.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 200 null application/json; charset=utf-8 227.5446ms
2025-12-13 19:10:16.491 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 19:10:16.498 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:10:16.500 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 9.1775ms
2025-12-13 19:10:16.506 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 19:10:16.625 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:10:16.843 +02:00 [INF] Executed DbCommand (194ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:10:16.872 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:10:16.875 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:10:16.910 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
2025-12-13 19:10:16.938 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:10:17.080 +02:00 [INF] Executed DbCommand (110ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:10:17.098 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:10:17.106 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:10:17.114 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 226.1515ms
2025-12-13 19:10:17.118 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:10:17.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 200 null application/json; charset=utf-8 616.076ms
2025-12-13 19:10:47.498 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 19:10:47.498 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 19:10:47.563 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:10:47.572 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:10:47.577 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 79.2559ms
2025-12-13 19:10:47.581 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 82.8863ms
2025-12-13 19:10:47.591 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 19:10:47.628 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:10:47.662 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:10:47.690 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:10:47.693 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:10:47.724 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:10:47.782 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:10:47.799 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:10:47.812 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:10:47.822 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 115.495ms
2025-12-13 19:10:47.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 19:10:47.827 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:10:47.834 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:10:47.842 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 251.2827ms
2025-12-13 19:10:47.859 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:10:47.893 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:10:47.908 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:10:47.938 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:10:48.000 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:10:48.024 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:10:48.033 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:10:48.044 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 107.7381ms
2025-12-13 19:10:48.051 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:10:48.056 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 230.73ms
2025-12-13 19:11:05.544 +02:00 [INF] Checking for reminders to send at "2025-12-13T17:11:05.5449440Z"
2025-12-13 19:11:05.697 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 19:11:05.720 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 19:11:06.792 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - null null
2025-12-13 19:11:06.902 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:11:06.910 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 204 null null 117.6627ms
2025-12-13 19:11:06.913 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - application/json null
2025-12-13 19:11:06.943 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:11:07.012 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:11:07.034 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:11:07.036 +02:00 [INF] Route matched with {action = "GetDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.DoctorProfileViewModel]]] GetDoctor(System.Guid) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:11:07.068 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [d].[Id] = @__id_0
2025-12-13 19:11:07.130 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__id_0
) AS [t]
2025-12-13 19:11:07.162 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__id_0 AND [a].[Status] = 4
2025-12-13 19:11:07.178 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[MediPredict.Data.ViewModels.DoctorProfileViewModel, MediPredict, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 19:11:07.195 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict) in 143.6784ms
2025-12-13 19:11:07.209 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctor (MediPredict)'
2025-12-13 19:11:07.216 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors/8cebc73f-b665-4e7f-b370-61c15394942a - 200 null application/json; charset=utf-8 302.7714ms
2025-12-13 19:12:52.896 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Doctors - null null
2025-12-13 19:12:52.903 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:12:52.907 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Doctors - 204 null null 10.9798ms
2025-12-13 19:12:52.911 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Doctors - application/json null
2025-12-13 19:12:52.964 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:12:52.984 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:12:53.002 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:12:53.005 +02:00 [INF] Route matched with {action = "GetDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[System.Object]]] GetDoctors(System.String, System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller MediPredict.Controllers.Api.DoctorsController (MediPredict).
2025-12-13 19:12:53.031 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
2025-12-13 19:12:53.053 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName]
FROM [Doctors] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [d].[IsVerified] = CAST(1 AS bit)
ORDER BY [d].[Specialization], [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-12-13 19:12:53.160 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [a].[PatientId]
    FROM [Appointments] AS [a]
    WHERE [a].[DoctorId] = @__d_Id_0
) AS [t]
2025-12-13 19:12:53.182 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__d_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__d_Id_0 AND [a].[Status] = 4
2025-12-13 19:12:53.192 +02:00 [INF] Executing OkObjectResult, writing value of type 'MediPredict.Data.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:12:53.199 +02:00 [INF] Executed action MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict) in 182.3812ms
2025-12-13 19:12:53.203 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.DoctorsController.GetDoctors (MediPredict)'
2025-12-13 19:12:53.212 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Doctors - 200 null application/json; charset=utf-8 300.2721ms
2025-12-13 19:12:53.316 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - null null
2025-12-13 19:12:53.328 +02:00 [INF] The file /uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png was not modified
2025-12-13 19:12:53.335 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/uploads/profiles/169e5942-61b3-4e5c-a926-d390e75ec84a_bae78971-e3e0-460e-aa8e-f4d5759e7a25.png - 304 null image/png 19.608ms
2025-12-13 19:12:59.497 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - null null
2025-12-13 19:12:59.533 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - null null
2025-12-13 19:12:59.601 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:12:59.613 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:12:59.615 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 204 null null 117.7309ms
2025-12-13 19:12:59.617 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 204 null null 83.8991ms
2025-12-13 19:12:59.620 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - application/json null
2025-12-13 19:12:59.647 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:12:59.654 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:12:59.677 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict)'
2025-12-13 19:12:59.729 +02:00 [INF] Route matched with {action = "GetPatientProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.PatientProfileSummaryViewModel]]] GetPatientProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 19:12:59.743 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 19:12:59.922 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 19:12:59.934 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:12:59.939 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict) in 202.0959ms
2025-12-13 19:12:59.946 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - application/json null
2025-12-13 19:12:59.951 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict)'
2025-12-13 19:12:59.965 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:12:59.969 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 403 null application/json; charset=utf-8 349.2132ms
2025-12-13 19:12:59.982 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:13:00.018 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict)'
2025-12-13 19:13:00.025 +02:00 [INF] Route matched with {action = "GetPatientProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.PatientProfileSummaryViewModel]]] GetPatientProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 19:13:00.047 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 19:13:00.095 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 19:13:00.101 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:13:00.161 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict) in 126.3668ms
2025-12-13 19:13:00.166 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict)'
2025-12-13 19:13:00.170 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 403 null application/json; charset=utf-8 223.5765ms
2025-12-13 19:19:02.663 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - null null
2025-12-13 19:19:02.670 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:19:02.672 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 204 null null 8.696ms
2025-12-13 19:19:02.678 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - application/json null
2025-12-13 19:19:02.686 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:19:02.714 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:19:02.728 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict)'
2025-12-13 19:19:02.730 +02:00 [INF] Route matched with {action = "GetPatientProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.PatientProfileSummaryViewModel]]] GetPatientProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 19:19:02.743 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 19:19:02.757 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 19:19:02.759 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:19:02.762 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict) in 20.8025ms
2025-12-13 19:19:02.769 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict)'
2025-12-13 19:19:02.772 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 403 null application/json; charset=utf-8 94.6282ms
2025-12-13 19:23:06.368 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - null null
2025-12-13 19:23:06.375 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:23:06.377 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 204 null null 9.3283ms
2025-12-13 19:23:06.382 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - application/json null
2025-12-13 19:23:06.393 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:23:06.412 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:23:06.426 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict)'
2025-12-13 19:23:06.427 +02:00 [INF] Route matched with {action = "GetPatientProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.PatientProfileSummaryViewModel]]] GetPatientProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 19:23:06.435 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 19:23:06.456 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 19:23:06.460 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:23:06.466 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict) in 34.0766ms
2025-12-13 19:23:06.472 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict)'
2025-12-13 19:23:06.476 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 403 null application/json; charset=utf-8 93.797ms
2025-12-13 19:24:54.342 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - null null
2025-12-13 19:24:54.350 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:24:54.354 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 204 null null 12.0547ms
2025-12-13 19:24:54.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - application/json null
2025-12-13 19:24:54.381 +02:00 [INF] CORS policy execution successful.
2025-12-13 19:24:54.445 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Patients] AS [p] ON [u].[Id] = [p].[UserId]
LEFT JOIN [Doctors] AS [d] ON [u].[Id] = [d].[UserId]
WHERE [u].[Id] = @__userId_0
2025-12-13 19:24:54.473 +02:00 [INF] Executing endpoint 'MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict)'
2025-12-13 19:24:54.481 +02:00 [INF] Route matched with {action = "GetPatientProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MediPredict.Data.Models.ApiResponse`1[MediPredict.Data.ViewModels.PatientProfileSummaryViewModel]]] GetPatientProfile(System.String) on controller MediPredict.Controllers.Api.ProfileController (MediPredict).
2025-12-13 19:24:54.516 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAt], [t].[DateOfBirth], [t].[Email], [t].[FirstName], [t].[Gender], [t].[IsActive], [t].[LastLoginAt], [t].[LastName], [t].[PasswordHash], [t].[PhoneNumber], [t].[ProfilePicture], [t].[RoleId], [t].[UserName], [t].[Id0], [t].[CreatedAt0], [t].[Description], [t].[IsActive0], [t].[Name], [t0].[Id], [t0].[AssignedAt], [t0].[PermissionId], [t0].[RoleId], [t0].[Id0], [t0].[Category], [t0].[CreatedAt], [t0].[Description], [t0].[Name], [t1].[Id], [t1].[AssignedAt], [t1].[PermissionId], [t1].[UserId], [t1].[Id0], [t1].[Category], [t1].[CreatedAt], [t1].[Description], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [r].[Id] AS [Id0], [r].[CreatedAt] AS [CreatedAt0], [r].[Description], [r].[IsActive] AS [IsActive0], [r].[Name]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[AssignedAt], [r0].[PermissionId], [r0].[RoleId], [p].[Id] AS [Id0], [p].[Category], [p].[CreatedAt], [p].[Description], [p].[Name]
    FROM [RolePermissions] AS [r0]
    INNER JOIN [Permissions] AS [p] ON [r0].[PermissionId] = [p].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RoleId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AssignedAt], [u0].[PermissionId], [u0].[UserId], [p0].[Id] AS [Id0], [p0].[Category], [p0].[CreatedAt], [p0].[Description], [p0].[Name]
    FROM [UserPermissions] AS [u0]
    INNER JOIN [Permissions] AS [p0] ON [u0].[PermissionId] = [p0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-12-13 19:24:54.703 +02:00 [INF] Authorization failed for the request at filter 'MediPredict.Attributes.RequirePermissionAttribute'.
2025-12-13 19:24:54.722 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 19:24:54.748 +02:00 [INF] Executed action MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict) in 244.3461ms
2025-12-13 19:24:54.867 +02:00 [INF] Executed endpoint 'MediPredict.Controllers.Api.ProfileController.GetPatientProfile (MediPredict)'
2025-12-13 19:24:54.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7146/api/Profile/patient/6166a7b1-b61d-4a14-a8cb-6b4810d8d092?userId=6166a7b1-b61d-4a14-a8cb-6b4810d8d092 - 403 null application/json; charset=utf-8 559.0942ms
2025-12-13 19:41:05.735 +02:00 [INF] Checking for reminders to send at "2025-12-13T17:41:05.7350296Z"
2025-12-13 19:41:06.140 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 19:41:06.158 +02:00 [INF] Found 0 scheduled appointments to evaluate
2025-12-13 19:48:17.935 +02:00 [INF] Executed DbCommand (258ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Permissions] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 19:48:18.482 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[Description], [r].[IsActive], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = N'Admin'
2025-12-13 19:48:18.791 +02:00 [INF] Executed DbCommand (172ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = N'admin@medipredict.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-13 19:48:18.913 +02:00 [INF] User profile is available. Using 'C:\Users\yvann\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 19:48:18.933 +02:00 [INF] Appointment Reminder Service started at "2025-12-13T17:48:18.9303825Z"
2025-12-13 19:48:29.832 +02:00 [INF] Now listening on: https://localhost:7146
2025-12-13 19:48:29.834 +02:00 [INF] Now listening on: http://localhost:5291
2025-12-13 19:48:30.304 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 19:48:30.307 +02:00 [INF] Hosting environment: Development
2025-12-13 19:48:30.308 +02:00 [INF] Content root path: C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict
2025-12-13 19:48:48.953 +02:00 [INF] Checking for reminders to send at "2025-12-13T17:48:48.9530073Z"
2025-12-13 19:48:51.869 +02:00 [ERR] Failed executing DbCommand (1,284ms) [Parameters=[@__now_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[ConfirmationNumber], [a].[CreatedAt], [a].[Diagnosis], [a].[DoctorId], [a].[DurationMinutes], [a].[Notes], [a].[PatientId], [a].[ReasonForVisit], [a].[ScheduledDate], [a].[Status], [a].[SymptomEntryId], [a].[TreatmentPlan], [a].[UpdatedAt], [p].[Id], [p].[Allergies], [p].[BloodGroup], [p].[CreatedAt], [p].[EmergencyContact], [p].[EmergencyPhone], [p].[IsPregnant], [p].[MedicalHistory], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[Address], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[LastLoginAt], [u].[LastName], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfilePicture], [u].[RoleId], [u].[UserName], [d].[Id], [d].[AvailableDays], [d].[AvailableTimeEnd], [d].[AvailableTimeStart], [d].[Bio], [d].[BoardCertifications], [d].[ConsultationFee], [d].[CreatedAt], [d].[EducationTraining], [d].[Experience], [d].[IsVerified], [d].[LicenseExpiryDate], [d].[LicenseIssueDate], [d].[LicenseNumber], [d].[LicenseState], [d].[NpiNumber], [d].[ProfessionalTitle], [d].[Qualifications], [d].[Specialization], [d].[UpdatedAt], [d].[UserId], [u0].[Id], [u0].[Address], [u0].[CreatedAt], [u0].[DateOfBirth], [u0].[Email], [u0].[FirstName], [u0].[Gender], [u0].[IsActive], [u0].[LastLoginAt], [u0].[LastName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[ProfilePicture], [u0].[RoleId], [u0].[UserName], [n].[Id], [n].[AppointmentId], [n].[ConsultationId], [n].[CreatedAt], [n].[ErrorMessage], [n].[IsSent], [n].[MessageBody], [n].[RecipientEmail], [n].[RetryCount], [n].[SentAt], [n].[Subject], [n].[Type], [n].[UserId]
FROM [Appointments] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientId] = [p].[Id]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorId] = [d].[Id]
INNER JOIN [Users] AS [u0] ON [d].[UserId] = [u0].[Id]
LEFT JOIN [NotificationLogs] AS [n] ON [a].[Id] = [n].[AppointmentId]
WHERE [a].[Status] = 1 AND [a].[AppointmentDate] > @__now_0
ORDER BY [a].[Id], [p].[Id], [u].[Id], [d].[Id], [u0].[Id]
2025-12-13 19:48:54.896 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MediPredict.Data.DatabaseContext.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsPregnant'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ac39c0a1-e5eb-47ae-8e83-44beec50ebdf
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsPregnant'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ac39c0a1-e5eb-47ae-8e83-44beec50ebdf
Error Number:207,State:1,Class:16
2025-12-13 19:48:54.953 +02:00 [ERR] Error occurred while sending appointment reminders
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsPregnant'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MediPredict.Services.Implementations.AppointmentReminderService.SendScheduledRemindersAsync() in C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict\Services\Implementations\AppointmentReminderService.cs:line 62
   at MediPredict.Services.Implementations.AppointmentReminderService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\yvann\Downloads\ConnectingBoth\MediPredict\MediPredict\Services\Implementations\AppointmentReminderService.cs:line 38
ClientConnectionId:ac39c0a1-e5eb-47ae-8e83-44beec50ebdf
Error Number:207,State:1,Class:16
2025-12-13 19:58:26.476 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-13 19:58:26.714 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-12-13 19:58:26.720 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-13 19:58:26.723 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-12-13 19:58:26.974 +02:00 [INF] Executed DbCommand (204ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-12-13 19:58:27.082 +02:00 [INF] Applying migration '20251213174818_AddIsPregnantToPatient'.
2025-12-13 19:58:34.476 +02:00 [INF] Executed DbCommand (6,945ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Patients] ADD [IsPregnant] bit NOT NULL DEFAULT CAST(0 AS bit);
2025-12-13 19:58:35.833 +02:00 [INF] Executed DbCommand (1,357ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251213174818_AddIsPregnantToPatient', N'8.0.20');
